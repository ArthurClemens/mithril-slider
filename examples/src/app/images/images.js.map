{"version":3,"sources":["images.es6"],"names":["_mithril","require","_mithrilSlider","_styler","_mithrilSliderStyle","_common","_preloader","_github","_styler2","default","add","_mithrilSliderStyle2","loaded","createPage","opts","currentIndex","listIndex","data","inRange","Math","abs","content","_mithril2","config","el","inited","_common2","fadeInImage","_preloader2","key","example","view","ctrl","component","_mithrilSlider2","pageData","getPageData","page","class","hideGithub","_github2"],"mappings":"qJAAA,IAAAA,UAAAC,QAAA,sDACAC,eAAAD,QAAA,yEACAE,QAAAF,QAAA,2DACAG,oBAAAH,QAAA,yFAEAI,QAAAJ,QAAA,2DACAK,WAAAL,QAAA,0EACAM,QAAAN,QAAA,0DAHAO,UAAAC,QAAOC,IAAI,SAAXC,qBAAAF,QAKA,IAAMG,WAEAC,WAAa,SAACC,MAChB,GAAMC,cAAeD,KAAKC,aACpBC,UAAYF,KAAKE,UACjBC,KAAOH,KAAKG,KAEZC,QAAUC,KAAKC,IAAIL,aAAeC,WAAa,EAC/CK,QAAUH,SAAU,EAAAI,UAAAb,SAAE,qBACxB,EAAAa,UAAAb,SAAE,UACEc,OAAQ,SAACC,GAAIC,QACLA,QAGJC,SAAAjB,QAAOkB,YAAYH,GAAIP,KAAM,WACzBL,OAAOI,YAAa,OAIhCJ,OAAOI,WAAa,KAApBY,YAAAnB,UACC,IACL,QAAO,EAAAa,UAAAb,SAAE,SAAUoB,IAAKb,WAAYK,UAGpCS,UACJA,SAAQC,KAAO,SAACC,KAAMlB,MAClB,OAAO,EAAAQ,UAAAb,SAAE,OACLa,UAAAb,QAAEwB,UAAFC,gBAAAzB,SACI0B,SAAUT,SAAAjB,QAAO2B,YACjBC,KAAMxB,WACNyB,MAAO,oBAEX,EAAAhB,UAAAb,SAAE,uBACFK,KAAKyB,WAAa,MAAO,EAAAC,SAAA/B,8BAIlBqB","file":"images.js","sourcesContent":["import m from 'mithril';\nimport slider from 'mithril-slider';\nimport styler from 'app/app/styler';\nimport sliderStyle from 'mithril-slider-style';\nstyler.add('slider', sliderStyle);\nimport common from 'app/app/common';\nimport preloader from 'app/preloader/preloader';\nimport github from 'app/app/github';\n\nconst loaded = {};\n\nconst createPage = (opts) => {\n    const currentIndex = opts.currentIndex;\n    const listIndex = opts.listIndex;\n    const data = opts.data;\n    // lazy loading\n    const inRange = Math.abs(currentIndex - listIndex) < 2;\n    const content = inRange ? m('.image-container', [\n        m('.image', {\n            config: (el, inited) => {\n                if (inited) {\n                    return;\n                }\n                common.fadeInImage(el, data, () => {\n                    loaded[listIndex] = true;\n                });\n            }\n        }),\n        loaded[listIndex] ? null : preloader\n    ]) : null;\n    return m('.page', {key: listIndex}, content);\n};\n\nlet example = {};\nexample.view = (ctrl, opts) => {\n    return m('div', [\n        m.component(slider, {\n            pageData: common.getPageData,\n            page: createPage,\n            class: 'example images'\n        }),\n        m('.slider-placeholder'),\n        opts.hideGithub ? null : github()\n    ]);\n};\n\nexport default example;\n"]}