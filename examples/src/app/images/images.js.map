{"version":3,"sources":["images.es6.js"],"names":["_styler2","add","_mithrilSliderStyle2","loaded","createPage","opts","currentIndex","listIndex","data","inRange","Math","abs","content","_mithril2","config","el","inited","_common2","fadeInImage","_preloader2","key","example","view","ctrl","component","_mithrilSlider2","pageData","getPageData","page","class","hideGithub","_github2"],"mappings":"qvBAIAA,UAAAA,WAAOC,IAAI,SAAXC,qBAAAA,WAKA,IAAMC,WAEAC,WAAa,SAACC,MAChB,GAAMC,cAAeD,KAAKC,aACpBC,UAAYF,KAAKE,UACjBC,KAAOH,KAAKG,KAEZC,QAAUC,KAAKC,IAAIL,aAAeC,WAAa,EAC/CK,QAAUH,SAAU,EAAAI,UAAAA,YAAE,qBACxB,EAAAA,UAAAA,YAAE,UACEC,OAAQ,SAACC,GAAIC,QACLA,QAGJC,SAAAA,WAAOC,YAAYH,GAAIP,KAAM,WACzBL,OAAOI,YAAa,OAIhCJ,OAAOI,WAAa,KAApBY,YAAAA,aACC,IACL,QAAO,EAAAN,UAAAA,YAAE,SAAUO,IAAKb,WAAYK,UAGpCS,UACJA,SAAQC,KAAO,SAACC,KAAMlB,MAClB,OAAO,EAAAQ,UAAAA,YAAE,OACLA,UAAAA,WAAEW,UAAFC,gBAAAA,YACIC,SAAUT,SAAAA,WAAOU,YACjBC,KAAMxB,WACNyB,QAAO,oBAEX,EAAAhB,UAAAA,YAAE,uBACFR,KAAKyB,WAAa,MAAO,EAAAC,SAAAA,oCAIlBV;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA1Cf,iBAAO,GAAP,CAAW,QAAX;;;AAKA,IAAM,SAAS,EAAT;;AAEN,IAAM,aAAa,SAAb,UAAa,CAAC,IAAD,EAAU;AACzB,QAAM,eAAe,KAAK,YAAL,CADI;AAEzB,QAAM,YAAY,KAAK,SAAL,CAFO;AAGzB,QAAM,OAAO,KAAK,IAAL;;AAHY,QAKnB,UAAU,KAAK,GAAL,CAAS,eAAe,SAAf,CAAT,GAAqC,CAArC,CALS;AAMzB,QAAM,UAAU,UAAU,uBAAE,kBAAF,EAAsB,CAC5C,uBAAE,QAAF,EAAY;AACR,gBAAQ,gBAAC,EAAD,EAAK,MAAL,EAAgB;AACpB,gBAAI,MAAJ,EAAY;AACR,uBADQ;aAAZ;AAGA,6BAAO,WAAP,CAAmB,EAAnB,EAAuB,IAAvB,EAA6B,YAAM;AAC/B,uBAAO,SAAP,IAAoB,IAApB,CAD+B;aAAN,CAA7B,CAJoB;SAAhB;KADZ,CAD4C,EAW5C,OAAO,SAAP,IAAoB,IAApB,sBAX4C,CAAtB,CAAV,GAYX,IAZW,CANS;AAmBzB,WAAO,uBAAE,OAAF,EAAW,EAAC,KAAK,SAAL,EAAZ,EAA6B,OAA7B,CAAP,CAnByB;CAAV;;AAsBnB,IAAI,UAAU,EAAV;AACJ,QAAQ,IAAR,GAAe,UAAC,IAAD,EAAO,IAAP,EAAgB;AAC3B,WAAO,uBAAE,KAAF,EAAS,CACZ,kBAAE,SAAF,0BAAoB;AAChB,kBAAU,iBAAO,WAAP;AACV,cAAM,UAAN;AACA,eAAO,gBAAP;KAHJ,CADY,EAMZ,uBAAE,qBAAF,CANY,EAOZ,KAAK,UAAL,GAAkB,IAAlB,GAAyB,uBAAzB,CAPG,CAAP,CAD2B;CAAhB;;kBAYA","file":"images.js","sourcesContent":["import m from 'mithril';\nimport slider from 'mithril-slider';\nimport styler from 'app/app/styler';\nimport sliderStyle from 'mithril-slider-style';\nstyler.add('slider', sliderStyle);\nimport common from 'app/app/common';\nimport preloader from 'app/preloader/preloader';\nimport github from 'app/app/github';\n\nconst loaded = {};\n\nconst createPage = (opts) => {\n    const currentIndex = opts.currentIndex;\n    const listIndex = opts.listIndex;\n    const data = opts.data;\n    // lazy loading\n    const inRange = Math.abs(currentIndex - listIndex) < 2;\n    const content = inRange ? m('.image-container', [\n        m('.image', {\n            config: (el, inited) => {\n                if (inited) {\n                    return;\n                }\n                common.fadeInImage(el, data, () => {\n                    loaded[listIndex] = true;\n                });\n            }\n        }),\n        loaded[listIndex] ? null : preloader\n    ]) : null;\n    return m('.page', {key: listIndex}, content);\n};\n\nlet example = {};\nexample.view = (ctrl, opts) => {\n    return m('div', [\n        m.component(slider, {\n            pageData: common.getPageData,\n            page: createPage,\n            class: 'example images'\n        }),\n        m('.slider-placeholder'),\n        opts.hideGithub ? null : github()\n    ]);\n};\n\nexport default example;\n"]}