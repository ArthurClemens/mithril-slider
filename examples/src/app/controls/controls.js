"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _mithril=require("mithril"),_mithril2=_interopRequireDefault(_mithril),_mithrilSlider=require("mithril-slider"),_mithrilSlider2=_interopRequireDefault(_mithrilSlider),_common=require("app/app/common"),_common2=_interopRequireDefault(_common),_preloader=require("app/preloader/preloader"),_preloader2=_interopRequireDefault(_preloader),_github=require("app/app/github"),_github2=_interopRequireDefault(_github),_styler=require("app/app/styler"),_styler2=_interopRequireDefault(_styler),_controlsStyle=require("./controls-style"),_controlsStyle2=_interopRequireDefault(_controlsStyle);_styler2.default.add("controls",_controlsStyle2.default);var callRight=function(l){for(var r=arguments.length,t=Array(r>1?r-1:0),e=1;r>e;e++)t[e-1]=arguments[e];return function(){for(var r=arguments.length,i=Array(r),e=0;r>e;e++)i[e]=arguments[e];return l.apply(void 0,i.concat(t))}},createPage=function(e){var t=e.currentIndex,r=e.listIndex,l=e.data,i=Math.abs(t-r)<2,a=i?(0,_mithril2.default)(".image-container",[(0,_mithril2.default)(".image",{config:function(e,r){r||_common2.default.fadeInImage(e,l)}}),_preloader2.default]):null;return(0,_mithril2.default)(".page",{key:r},a)},example={};example.controller=function(){return{sliderController:_mithril2.default.prop(),isEditing:_mithril2.default.prop(!1)}},example.view=function(r){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],l=t.rtl,e=r.sliderController(),i=_mithril2.default.component(_mithrilSlider2.default,{pageData:callRight(_common2.default.getPageData,"app/data/local.json"),page:createPage,sliderController:r.sliderController,class:"example controls",rtl:l}),a=e?(0,_mithril2.default)(".slider-controls.slider-controls-controls",[(0,_mithril2.default)("input.goto",{value:r.isEditing()?"":e.index()+1,oninput:function(l){r.isEditing(!0);var t=parseInt(l.target.value,10)-1;isNaN(t)||(e.goTo(t,0),r.isEditing(!1))}}),(0,_mithril2.default)("a.prev",{class:e.hasPrevious()?"enabled":"",onclick:function(){return e.goPrevious()}},"Previous"),(0,_mithril2.default)("a.next",{class:e.hasNext()?"enabled":"",onclick:function(){return e.goNext()}},"Next")]):null,o=l?{dir:"rtl"}:{};return(0,_mithril2.default)("div",o,[i,(0,_mithril2.default)(".slider-placeholder"),a,t.hideGithub?null:(0,_github2.default)()])},exports.default=example;