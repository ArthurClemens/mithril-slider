"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _mithril=require("mithril"),_mithril2=_interopRequireDefault(_mithril),_mithrilSlider=require("mithril-slider"),_mithrilSlider2=_interopRequireDefault(_mithrilSlider),_common=require("app/app/common"),_common2=_interopRequireDefault(_common),_preloader=require("app/preloader/preloader"),_preloader2=_interopRequireDefault(_preloader),_github=require("app/app/github"),_github2=_interopRequireDefault(_github),_styler=require("app/app/styler"),_styler2=_interopRequireDefault(_styler),_controlsStyle=require("./controls-style"),_controlsStyle2=_interopRequireDefault(_controlsStyle);_styler2.default.add("controls",_controlsStyle2.default);var callRight=function(fn){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return function(){for(var _len2=arguments.length,remainingArgs=Array(_len2),_key2=0;_key2<_len2;_key2++)remainingArgs[_key2]=arguments[_key2];return fn.apply(void 0,remainingArgs.concat(args))}},createPage=function(opts){var currentIndex=opts.currentIndex,listIndex=opts.listIndex,data=opts.data,inRange=Math.abs(currentIndex-listIndex)<2,content=inRange?(0,_mithril2.default)(".image-container",[(0,_mithril2.default)(".image",{config:function(el,inited){inited||_common2.default.fadeInImage(el,data)}}),_preloader2.default]):null;return(0,_mithril2.default)(".page",{key:listIndex},content)},example={};example.controller=function(){return{sliderController:_mithril2.default.prop(),isEditing:_mithril2.default.prop(!1)}},example.view=function(ctrl){var opts=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],rtl=opts.rtl,sliderController=ctrl.sliderController(),mySlider=_mithril2.default.component(_mithrilSlider2.default,{pageData:callRight(_common2.default.getPageData,"app/data/local.json"),page:createPage,sliderController:ctrl.sliderController,class:"example controls",rtl:rtl}),sliderControls=sliderController?(0,_mithril2.default)(".slider-controls.slider-controls-controls",[(0,_mithril2.default)("input.goto",{value:ctrl.isEditing()?"":sliderController.index()+1,oninput:function(e){ctrl.isEditing(!0);var idx=parseInt(e.target.value,10)-1;isNaN(idx)||(sliderController.goTo(idx,0),ctrl.isEditing(!1))}}),(0,_mithril2.default)("a.prev",{class:sliderController.hasPrevious()?"enabled":"",onclick:function(){return sliderController.goPrevious()}},"Previous"),(0,_mithril2.default)("a.next",{class:sliderController.hasNext()?"enabled":"",onclick:function(){return sliderController.goNext()}},"Next")]):null,props=rtl?{dir:"rtl"}:{};return(0,_mithril2.default)("div",props,[mySlider,(0,_mithril2.default)(".slider-placeholder"),sliderControls,opts.hideGithub?null:(0,_github2.default)()])},exports.default=example;
//# sourceMappingURL=controls.js.map