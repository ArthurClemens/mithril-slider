{"version":3,"sources":["common.es6"],"names":["_mithril","require","DATA_URL","vm","seen","getPageData","url","arguments","length","undefined","_mithril2","default","request","method","background","fadeInImage","el","callback","showImage","style","backgroundImage","opacity","setTimeout","img","Image","onload","src"],"mappings":"qJAAA,IAAAA,UAAAC,QAAA,sDAEMC,SAAW,uBAEXC,IACFC,0BAIAC,YAAa,WAAoB,GAAnBC,KAAmBC,UAAAC,QAAA,GAAAC,SAAAF,UAAA,GAAbL,SAAaK,UAAA,EAC7B,OAAOG,WAAAC,QAAEC,SACLC,OAAQ,MACRP,IAAKA,IACLQ,YAAY,KAIpBC,YAAa,SAACC,GAAIV,IAAKW,UACnB,GAAMC,WAAY,WACdF,GAAGG,MAAMC,gBAAkB,OAASd,IAAM,IAC1CU,GAAGG,MAAME,QAAU,EACnBlB,GAAGC,KAAKE,KAAO,EACXW,UACAK,WAAW,WACPL,YACD,KAGX,IAAKd,GAAGC,KAAKE,KAOTY,gBAPe,CACf,GAAIK,KAAM,GAAIC,MACdD,KAAIE,OAAS,WACTP,aAEJK,IAAIG,IAAMpB","file":"common.js","sourcesContent":["import m from 'mithril';\n\nconst DATA_URL = 'app/data/server.json';\n\nconst vm = {\n    seen: {}\n};\n\nexport default {\n    getPageData: (url = DATA_URL) => {\n        return m.request({\n            method: 'GET',\n            url: url,\n            background: false\n        });\n    },\n\n    fadeInImage: (el, url, callback) => {\n        const showImage = () => {\n            el.style.backgroundImage = 'url(' + url + ')';\n            el.style.opacity = 1;\n            vm.seen[url] = 1;\n            if (callback) {\n                setTimeout(() => {\n                    callback();\n                }, 500);\n            }\n        };\n        if (!vm.seen[url]) {\n            let img = new Image();\n            img.onload = () => {\n                showImage();\n            };\n            img.src = url;\n        } else {\n            showImage();\n        }\n    }\n};\n"]}