"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _mithril=require("mithril"),_mithril2=_interopRequireDefault(_mithril),_mithrilSlider=require("mithril-slider"),_mithrilSlider2=_interopRequireDefault(_mithrilSlider),_appAppCommon=require("app/app/common"),_appAppCommon2=_interopRequireDefault(_appAppCommon),_appPreloaderPreloader=require("app/preloader/preloader"),_appPreloaderPreloader2=_interopRequireDefault(_appPreloaderPreloader),_appAppGithub=require("app/app/github"),_appAppGithub2=_interopRequireDefault(_appAppGithub),_appAppStyler=require("app/app/styler"),_appAppStyler2=_interopRequireDefault(_appAppStyler),_groupStyle=require("./group-style"),_groupStyle2=_interopRequireDefault(_groupStyle);_appAppStyler2.default.add("group",_groupStyle2.default);var callRight=function(l){for(var r=arguments.length,t=Array(r>1?r-1:0),e=1;r>e;e++)t[e-1]=arguments[e];return function(){for(var r=arguments.length,a=Array(r),e=0;r>e;e++)a[e]=arguments[e];return l.apply(void 0,a.concat(t))}},createPage=function(e,t){var l=t.groupBy(),a=e.currentIndex,r=e.listIndex,i=e.data,p=Math.abs(a-r)<2*l,u=p?[(0,_mithril2.default)(".image-container",[(0,_mithril2.default)(".image",{config:function(e,r){r||_appAppCommon2.default.fadeInImage(e,i)}}),(0,_mithril2.default)("span",r+1),_appPreloaderPreloader2.default])]:null;return(0,_mithril2.default)(".page",{key:r},u)},example={};example.controller=function(){return{sliderController:_mithril2.default.prop(),isEditing:_mithril2.default.prop(!1),groupBy:_mithril2.default.prop(3)}},example.view=function(r,l){var e=r.sliderController(),t=r.groupBy(),a=_mithril2.default.component(_mithrilSlider2.default,{pageData:_appAppCommon2.default.getPageData,page:callRight(createPage,r),groupBy:t,sliderController:r.sliderController,class:["example","group","group-"+t].join(" ")}),i=(0,_mithril2.default)(".slider-controls.slider-controls-group",e?[(0,_mithril2.default)("a.prev",{class:e.hasPrevious()?"enabled":"",onclick:function(){return e.goPrevious()}},"Previous"),(0,_mithril2.default)(".count",[[1,2,3,4,5].map(function(l){return(0,_mithril2.default)("a",{onclick:function(){r.groupBy(l),setTimeout(function(){e.goCurrent()},0)},class:l===t?"selected":""},l)})]),(0,_mithril2.default)("a.next",{class:e.hasNext()?"enabled":"",onclick:function(){return e.goNext()}},"Next")]:null);return(0,_mithril2.default)("div",[i,a,(0,_mithril2.default)(".slider-placeholder"),l.hideGithub?null:(0,_appAppGithub2.default)()])},exports.default=example,module.exports=exports.default;