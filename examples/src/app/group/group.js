"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _mithril=require("mithril"),_mithril2=_interopRequireDefault(_mithril),_mithrilSlider=require("mithril-slider"),_mithrilSlider2=_interopRequireDefault(_mithrilSlider),_common=require("app/app/common"),_common2=_interopRequireDefault(_common),_preloader=require("app/preloader/preloader"),_preloader2=_interopRequireDefault(_preloader),_github=require("app/app/github"),_github2=_interopRequireDefault(_github),_styler=require("app/app/styler"),_styler2=_interopRequireDefault(_styler),_groupStyle=require("./group-style"),_groupStyle2=_interopRequireDefault(_groupStyle);_styler2["default"].add("group",_groupStyle2["default"]);var callRight=function(fn){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_len>_key;_key++)args[_key-1]=arguments[_key];return function(){for(var _len2=arguments.length,remainingArgs=Array(_len2),_key2=0;_len2>_key2;_key2++)remainingArgs[_key2]=arguments[_key2];return fn.apply(void 0,remainingArgs.concat(args))}},createPage=function(opts,ctrl){var groupBy=ctrl.groupBy(),currentIndex=opts.currentIndex,listIndex=opts.listIndex,data=opts.data,inRange=Math.abs(currentIndex-listIndex)<2*groupBy,content=inRange?[(0,_mithril2["default"])(".image-container",[(0,_mithril2["default"])(".image",{config:function(el,inited){inited||_common2["default"].fadeInImage(el,data)}}),(0,_mithril2["default"])("span",listIndex+1),_preloader2["default"]])]:null;return(0,_mithril2["default"])(".page",{key:listIndex},content)},example={};example.controller=function(){return{sliderController:_mithril2["default"].prop(),isEditing:_mithril2["default"].prop(!1),groupBy:_mithril2["default"].prop(3)}},example.view=function(ctrl,opts){var sliderController=ctrl.sliderController(),groupBy=ctrl.groupBy(),mySlider=_mithril2["default"].component(_mithrilSlider2["default"],{pageData:_common2["default"].getPageData,page:callRight(createPage,ctrl),groupBy:groupBy,sliderController:ctrl.sliderController,"class":["example","group","group-"+groupBy].join(" ")}),sliderControls=(0,_mithril2["default"])(".slider-controls.slider-controls-group",sliderController?[(0,_mithril2["default"])("a.prev",{"class":sliderController.hasPrevious()?"enabled":"",onclick:function(){return sliderController.goPrevious()}},"Previous"),(0,_mithril2["default"])(".count",[[1,2,3,4,5].map(function(size){return(0,_mithril2["default"])("a",{onclick:function(){ctrl.groupBy(size),setTimeout(function(){sliderController.goCurrent()},0)},"class":size===groupBy?"selected":""},size)})]),(0,_mithril2["default"])("a.next",{"class":sliderController.hasNext()?"enabled":"",onclick:function(){return sliderController.goNext()}},"Next")]:null);return(0,_mithril2["default"])("div",[sliderControls,mySlider,(0,_mithril2["default"])(".slider-placeholder"),opts.hideGithub?null:(0,_github2["default"])()])},exports["default"]=example;
//# sourceMappingURL=group.js.map