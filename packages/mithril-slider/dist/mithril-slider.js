!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("mithril"),require("hammerjs")):"function"==typeof define&&define.amd?define(["exports","mithril","hammerjs"],e):e(t["mithril-slider"]=t["mithril-slider"]||{},t.m,t.hammerjs)}(this,function(t,e,n){"use strict";e="default"in e?e.default:e,n="default"in n?n.default:n;var r={slider:"slider",content:"content",before:"before",after:"after"},o=function(t,o){o.sliderController&&o.sliderController(t);var a=t.index();t.groupBy(o.groupBy||1);var i=t.contentEl();return i&&t.updateContentSize(i),e("div",{class:[r.slider,o.class||""].join(" ")},[o.before?e("."+r.before,o.before):null,e("div",{class:r.content,config:function(e,r,a){a.inited||e.childNodes.length>0&&!function(){t.setContentEl(e),t.updateContentSize(e);var r=new n.Manager(e,{});r.add(new n.Pan({direction:"vertical"===o.orientation?n.DIRECTION_VERTICAL:"all"===o.orientation?n.DIRECTION_ALL:n.DIRECTION_HORIZONTAL,threshold:0})),r.on("panmove",t.handleDrag),r.on("panend",t.handleDragEnd),r.on("panstart",t.handleDragStart),a.onunload=function(){r.off("panmove",t.handleDrag),r.off("panend",t.handleDragEnd),r.off("panstart",t.handleDragStart)},a.inited=!0}()}},t.list().map(function(t,e){return o.page({data:t,listIndex:e,currentIndex:a})})),o.after?e("."+r.after,o.after):null])},a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.prop([]);t.pageData&&t.pageData().then(function(t){return h(t)});var r=parseInt(t.duration,10)||160,o=e.prop(t.index||-1),a=e.prop(),i=0,l=e.prop(t.groupBy||1),d=t.cancelDragFactor||.2,f="vertical"===t.orientation,u=t.rtl?-1:1,s=t.pageOffsetX||0,c=t.pageOffsetY||0,h=function(t){n(t),e.redraw()},g=function(n){var r=o();if(r!==n&&(o(n),e.redraw(),t.getState)){var i=a(),l=p(i,o());t.getState({index:n,hasNext:N(),hasPrevious:w(),pageEl:l})}},p=function(t,e){return t.childNodes[e]},v=function(t){var e=f?"0":t+"px",n=f?t+"px":"0",r="0",o=[e,n,r].join(", ");return"translate3d("+o+")"},m=function(t,e){var n=t.style;n.transform=n["-webkit-transform"]=n["-moz-transform"]=n["-ms-transform"]=v(e)},D=function(t){a().style["-webkit-transition-duration"]=a().style["transition-duration"]=t+"ms"},x=function(t,e){t<0||t>n().length-1||(C(a()),void 0!==e&&D(e),m(a(),-u*t*i),g(t))},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=o(),r=l(),a=0,i=n().length,d=e+t*r;return d+r>i?i-r:d<a?a:d},C=function(t){var e=f?"height":"width",r=t.childNodes[0];r.getBoundingClientRect()[e]&&(i=r.getBoundingClientRect()[e],t.style[e]=n().length*i+"px")},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;C(a()),D(t),x(y())},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return D(t),x(o()<n().length?y(1):y())},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return D(t),x(o()>0?y(-1):y())},N=function(){return o()+l()<n().length},w=function(){return o()>0},O=function(t){a(t),C(t),E()},S=function(){return C(a()),D(0)},T=function(t){var e=a(),n=p(e,o()),r=f?t.deltaY+c:t.deltaX+s,i=f?n.offsetTop:u===-1?n.offsetLeft-n.parentNode.clientWidth+n.clientWidth:n.offsetLeft;m(e,r-i),t.preventDefault()},j=function(t){var e=a(),n=p(e,o()),i=n.clientWidth,l=Math.abs(t)||1,d=1/l*i;return d>r&&(d=r),d},R=function(t){var e=j(t.velocity),n=f?t.deltaY:t.deltaX;Math.abs(n)>i*l()*d?u*n<0?b(e):I(e):E(e)};return{list:n,contentEl:a,setContentEl:O,handleDrag:T,handleDragStart:S,handleDragEnd:R,groupBy:l,updateContentSize:C,index:o,hasNext:N,hasPrevious:w,goTo:x,goCurrent:E,goNext:b,goPrevious:I}},i={controller:a,view:o},l=[{".slider":{overflow:"hidden"," .content":{transitionProperty:"transform",transitionTimingFunction:"ease-out",transform:"translate3d(0, 0, 0)"}}}];t.slider=i,t.css=l,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=mithril-slider.js.map
