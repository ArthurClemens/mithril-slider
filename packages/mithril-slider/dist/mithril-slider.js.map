{"version":3,"file":"mithril-slider.js","sources":["../node_modules/mithril/mithril.mjs","../src/prop.js","../node_modules/hammerjs/hammer.js","../src/touch.js","../src/classes.js","../src/index.js"],"sourcesContent":["function Vnode(tag, key, attrs0, children0, text, dom) {\n\treturn {tag: tag, key: key, attrs: attrs0, children: children0, text: text, dom: dom, domSize: undefined, state: undefined, events: undefined, instance: undefined}\n}\nVnode.normalize = function(node) {\n\tif (Array.isArray(node)) return Vnode(\"[\", undefined, undefined, Vnode.normalizeChildren(node), undefined, undefined)\n\tif (node != null && typeof node !== \"object\") return Vnode(\"#\", undefined, undefined, node === false ? \"\" : node, undefined, undefined)\n\treturn node\n}\nVnode.normalizeChildren = function(input) {\n\tvar children0 = []\n\tfor (var i = 0; i < input.length; i++) {\n\t\tchildren0[i] = Vnode.normalize(input[i])\n\t}\n\treturn children0\n}\n// Call via `hyperscriptVnode0.apply(startOffset, arguments)`\n//\n// The reason I do it this way, forwarding the arguments and passing the start\n// offset in `this`, is so I don't have to create a temporary array in a\n// performance-critical path.\n//\n// In native ES6, I'd instead add a final `...args` parameter to the\n// `hyperscript0` and `fragment` factories and define this as\n// `hyperscriptVnode0(...args)`, since modern engines do optimize that away. But\n// ES5 (what Mithril requires thanks to IE support) doesn't give me that luxury,\n// and engines aren't nearly intelligent enough to do either of these:\n//\n// 1. Elide the allocation for `[].slice.call(arguments, 1)` when it's passed to\n//    another function only to be indexed.\n// 2. Elide an `arguments` allocation when it's passed to any function other\n//    than `Function.prototype.apply` or `Reflect.apply`.\n//\n// In ES6, it'd probably look closer to this (I'd need to profile it, though):\n// var hyperscriptVnode = function(attrs1, ...children1) {\n//     if (attrs1 == null || typeof attrs1 === \"object\" && attrs1.tag == null && !Array.isArray(attrs1)) {\n//         if (children1.length === 1 && Array.isArray(children1[0])) children1 = children1[0]\n//     } else {\n//         children1 = children1.length === 0 && Array.isArray(attrs1) ? attrs1 : [attrs1, ...children1]\n//         attrs1 = undefined\n//     }\n//\n//     if (attrs1 == null) attrs1 = {}\n//     return Vnode(\"\", attrs1.key, attrs1, children1)\n// }\nvar hyperscriptVnode = function() {\n\tvar attrs1 = arguments[this], start = this + 1, children1\n\tif (attrs1 == null) {\n\t\tattrs1 = {}\n\t} else if (typeof attrs1 !== \"object\" || attrs1.tag != null || Array.isArray(attrs1)) {\n\t\tattrs1 = {}\n\t\tstart = this\n\t}\n\tif (arguments.length === start + 1) {\n\t\tchildren1 = arguments[start]\n\t\tif (!Array.isArray(children1)) children1 = [children1]\n\t} else {\n\t\tchildren1 = []\n\t\twhile (start < arguments.length) children1.push(arguments[start++])\n\t}\n\treturn Vnode(\"\", attrs1.key, attrs1, children1)\n}\nvar selectorParser = /(?:(^|#|\\.)([^#\\.\\[\\]]+))|(\\[(.+?)(?:\\s*=\\s*(\"|'|)((?:\\\\[\"'\\]]|.)*?)\\5)?\\])/g\nvar selectorCache = {}\nvar hasOwn = {}.hasOwnProperty\nfunction isEmpty(object) {\n\tfor (var key in object) if (hasOwn.call(object, key)) return false\n\treturn true\n}\nfunction compileSelector(selector) {\n\tvar match, tag = \"div\", classes = [], attrs = {}\n\twhile (match = selectorParser.exec(selector)) {\n\t\tvar type = match[1], value = match[2]\n\t\tif (type === \"\" && value !== \"\") tag = value\n\t\telse if (type === \"#\") attrs.id = value\n\t\telse if (type === \".\") classes.push(value)\n\t\telse if (match[3][0] === \"[\") {\n\t\t\tvar attrValue = match[6]\n\t\t\tif (attrValue) attrValue = attrValue.replace(/\\\\([\"'])/g, \"$1\").replace(/\\\\\\\\/g, \"\\\\\")\n\t\t\tif (match[4] === \"class\") classes.push(attrValue)\n\t\t\telse attrs[match[4]] = attrValue === \"\" ? attrValue : attrValue || true\n\t\t}\n\t}\n\tif (classes.length > 0) attrs.className = classes.join(\" \")\n\treturn selectorCache[selector] = {tag: tag, attrs: attrs}\n}\nfunction execSelector(state, vnode) {\n\tvar attrs = vnode.attrs\n\tvar children = Vnode.normalizeChildren(vnode.children)\n\tvar hasClass = hasOwn.call(attrs, \"class\")\n\tvar className = hasClass ? attrs.class : attrs.className\n\tvnode.tag = state.tag\n\tvnode.attrs = null\n\tvnode.children = undefined\n\tif (!isEmpty(state.attrs) && !isEmpty(attrs)) {\n\t\tvar newAttrs = {}\n\t\tfor (var key in attrs) {\n\t\t\tif (hasOwn.call(attrs, key)) newAttrs[key] = attrs[key]\n\t\t}\n\t\tattrs = newAttrs\n\t}\n\tfor (var key in state.attrs) {\n\t\tif (hasOwn.call(state.attrs, key) && key !== \"className\" && !hasOwn.call(attrs, key)){\n\t\t\tattrs[key] = state.attrs[key]\n\t\t}\n\t}\n\tif (className != null || state.attrs.className != null) attrs.className =\n\t\tclassName != null\n\t\t\t? state.attrs.className != null\n\t\t\t\t? String(state.attrs.className) + \" \" + String(className)\n\t\t\t\t: className\n\t\t\t: state.attrs.className != null\n\t\t\t\t? state.attrs.className\n\t\t\t\t: null\n\tif (hasClass) attrs.class = null\n\tfor (var key in attrs) {\n\t\tif (hasOwn.call(attrs, key) && key !== \"key\") {\n\t\t\tvnode.attrs = attrs\n\t\t\tbreak\n\t\t}\n\t}\n\tif (Array.isArray(children) && children.length === 1 && children[0] != null && children[0].tag === \"#\") {\n\t\tvnode.text = children[0].children\n\t} else {\n\t\tvnode.children = children\n\t}\n\treturn vnode\n}\nfunction hyperscript(selector) {\n\tif (selector == null || typeof selector !== \"string\" && typeof selector !== \"function\" && typeof selector.view !== \"function\") {\n\t\tthrow Error(\"The selector must be either a string or a component.\");\n\t}\n\tvar vnode = hyperscriptVnode.apply(1, arguments)\n\tif (typeof selector === \"string\") {\n\t\tvnode.children = Vnode.normalizeChildren(vnode.children)\n\t\tif (selector !== \"[\") return execSelector(selectorCache[selector] || compileSelector(selector), vnode)\n\t}\n\t\n\tvnode.tag = selector\n\treturn vnode\n}\nhyperscript.trust = function(html) {\n\tif (html == null) html = \"\"\n\treturn Vnode(\"<\", undefined, undefined, html, undefined, undefined)\n}\nhyperscript.fragment = function() {\n\tvar vnode2 = hyperscriptVnode.apply(0, arguments)\n\tvnode2.tag = \"[\"\n\tvnode2.children = Vnode.normalizeChildren(vnode2.children)\n\treturn vnode2\n}\nvar m = function m() { return hyperscript.apply(this, arguments) }\nm.m = hyperscript\nm.trust = hyperscript.trust\nm.fragment = hyperscript.fragment\n/** @constructor */\nvar PromisePolyfill = function(executor) {\n\tif (!(this instanceof PromisePolyfill)) throw new Error(\"Promise must be called with `new`\")\n\tif (typeof executor !== \"function\") throw new TypeError(\"executor must be a function\")\n\tvar self = this, resolvers = [], rejectors = [], resolveCurrent = handler(resolvers, true), rejectCurrent = handler(rejectors, false)\n\tvar instance = self._instance = {resolvers: resolvers, rejectors: rejectors}\n\tvar callAsync = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\tfunction handler(list, shouldAbsorb) {\n\t\treturn function execute(value) {\n\t\t\tvar then\n\t\t\ttry {\n\t\t\t\tif (shouldAbsorb && value != null && (typeof value === \"object\" || typeof value === \"function\") && typeof (then = value.then) === \"function\") {\n\t\t\t\t\tif (value === self) throw new TypeError(\"Promise can't be resolved w/ itself\")\n\t\t\t\t\texecuteOnce(then.bind(value))\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcallAsync(function() {\n\t\t\t\t\t\tif (!shouldAbsorb && list.length === 0) console.error(\"Possible unhandled promise rejection:\", value)\n\t\t\t\t\t\tfor (var i = 0; i < list.length; i++) list[i](value)\n\t\t\t\t\t\tresolvers.length = 0, rejectors.length = 0\n\t\t\t\t\t\tinstance.state = shouldAbsorb\n\t\t\t\t\t\tinstance.retry = function() {execute(value)}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\trejectCurrent(e)\n\t\t\t}\n\t\t}\n\t}\n\tfunction executeOnce(then) {\n\t\tvar runs = 0\n\t\tfunction run(fn) {\n\t\t\treturn function(value) {\n\t\t\t\tif (runs++ > 0) return\n\t\t\t\tfn(value)\n\t\t\t}\n\t\t}\n\t\tvar onerror = run(rejectCurrent)\n\t\ttry {then(run(resolveCurrent), onerror)} catch (e) {onerror(e)}\n\t}\n\texecuteOnce(executor)\n}\nPromisePolyfill.prototype.then = function(onFulfilled, onRejection) {\n\tvar self = this, instance = self._instance\n\tfunction handle(callback, list, next, state) {\n\t\tlist.push(function(value) {\n\t\t\tif (typeof callback !== \"function\") next(value)\n\t\t\telse try {resolveNext(callback(value))} catch (e) {if (rejectNext) rejectNext(e)}\n\t\t})\n\t\tif (typeof instance.retry === \"function\" && state === instance.state) instance.retry()\n\t}\n\tvar resolveNext, rejectNext\n\tvar promise = new PromisePolyfill(function(resolve, reject) {resolveNext = resolve, rejectNext = reject})\n\thandle(onFulfilled, instance.resolvers, resolveNext, true), handle(onRejection, instance.rejectors, rejectNext, false)\n\treturn promise\n}\nPromisePolyfill.prototype.catch = function(onRejection) {\n\treturn this.then(null, onRejection)\n}\nPromisePolyfill.prototype.finally = function(callback) {\n\treturn this.then(\n\t\tfunction(value) {\n\t\t\treturn PromisePolyfill.resolve(callback()).then(function() {\n\t\t\t\treturn value\n\t\t\t})\n\t\t},\n\t\tfunction(reason) {\n\t\t\treturn PromisePolyfill.resolve(callback()).then(function() {\n\t\t\t\treturn PromisePolyfill.reject(reason);\n\t\t\t})\n\t\t}\n\t)\n}\nPromisePolyfill.resolve = function(value) {\n\tif (value instanceof PromisePolyfill) return value\n\treturn new PromisePolyfill(function(resolve) {resolve(value)})\n}\nPromisePolyfill.reject = function(value) {\n\treturn new PromisePolyfill(function(resolve, reject) {reject(value)})\n}\nPromisePolyfill.all = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tvar total = list.length, count = 0, values = []\n\t\tif (list.length === 0) resolve([])\n\t\telse for (var i = 0; i < list.length; i++) {\n\t\t\t(function(i) {\n\t\t\t\tfunction consume(value) {\n\t\t\t\t\tcount++\n\t\t\t\t\tvalues[i] = value\n\t\t\t\t\tif (count === total) resolve(values)\n\t\t\t\t}\n\t\t\t\tif (list[i] != null && (typeof list[i] === \"object\" || typeof list[i] === \"function\") && typeof list[i].then === \"function\") {\n\t\t\t\t\tlist[i].then(consume, reject)\n\t\t\t\t}\n\t\t\t\telse consume(list[i])\n\t\t\t})(i)\n\t\t}\n\t})\n}\nPromisePolyfill.race = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\tlist[i].then(resolve, reject)\n\t\t}\n\t})\n}\nif (typeof window !== \"undefined\") {\n\tif (typeof window.Promise === \"undefined\") {\n\t\twindow.Promise = PromisePolyfill\n\t} else if (!window.Promise.prototype.finally) {\n\t\twindow.Promise.prototype.finally = PromisePolyfill.prototype.finally\n\t}\n\tvar PromisePolyfill = window.Promise\n} else if (typeof global !== \"undefined\") {\n\tif (typeof global.Promise === \"undefined\") {\n\t\tglobal.Promise = PromisePolyfill\n\t} else if (!global.Promise.prototype.finally) {\n\t\tglobal.Promise.prototype.finally = PromisePolyfill.prototype.finally\n\t}\n\tvar PromisePolyfill = global.Promise\n} else {\n}\nvar buildQueryString = function(object) {\n\tif (Object.prototype.toString.call(object) !== \"[object Object]\") return \"\"\n\tvar args = []\n\tfor (var key in object) {\n\t\tdestructure(key, object[key])\n\t}\n\treturn args.join(\"&\")\n\tfunction destructure(key, value) {\n\t\tif (Array.isArray(value)) {\n\t\t\tfor (var i = 0; i < value.length; i++) {\n\t\t\t\tdestructure(key + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse if (Object.prototype.toString.call(value) === \"[object Object]\") {\n\t\t\tfor (var i in value) {\n\t\t\t\tdestructure(key + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse args.push(encodeURIComponent(key) + (value != null && value !== \"\" ? \"=\" + encodeURIComponent(value) : \"\"))\n\t}\n}\nvar _12 = function($window, Promise) {\n\tvar callbackCount = 0\n\tvar oncompletion\n\tfunction makeRequest(factory) {\n\t\treturn function(url, args) {\n\t\t\tif (typeof url !== \"string\") { args = url; url = url.url }\n\t\t\telse if (args == null) args = {}\n\t\t\tvar promise0 = new Promise(function(resolve, reject) {\n\t\t\t\tfactory(url, args, function (data) {\n\t\t\t\t\tif (typeof args.type === \"function\") {\n\t\t\t\t\t\tif (Array.isArray(data)) {\n\t\t\t\t\t\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\t\t\t\t\t\tdata[i] = new args.type(data[i])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse data = new args.type(data)\n\t\t\t\t\t}\n\t\t\t\t\tresolve(data)\n\t\t\t\t}, reject)\n\t\t\t})\n\t\t\tif (args.background === true) return promise0\n\t\t\tvar count = 0\n\t\t\tfunction complete() {\n\t\t\t\tif (--count === 0 && typeof oncompletion === \"function\") oncompletion()\n\t\t\t}\n\t\t\treturn wrap(promise0)\n\t\t\tfunction wrap(promise0) {\n\t\t\t\tvar then0 = promise0.then\n\t\t\t\tpromise0.then = function() {\n\t\t\t\t\tcount++\n\t\t\t\t\tvar next = then0.apply(promise0, arguments)\n\t\t\t\t\tnext.then(complete, function(e) {\n\t\t\t\t\t\tcomplete()\n\t\t\t\t\t\tif (count === 0) throw e\n\t\t\t\t\t})\n\t\t\t\t\treturn wrap(next)\n\t\t\t\t}\n\t\t\t\treturn promise0\n\t\t\t}\n\t\t}\n\t}\n\tfunction hasHeader(args, name) {\n\t\tfor (var key in args.headers) {\n\t\t\tif ({}.hasOwnProperty.call(args.headers, key) && name.test(key)) return true\n\t\t}\n\t\treturn false\n\t}\n\tfunction interpolate(url, data, assemble) {\n\t\tif (data == null) return url\n\t\turl = url.replace(/:([^\\/]+)/gi, function (m0, key) {\n\t\t\treturn data[key] != null ? data[key] : m0\n\t\t})\n\t\tif (assemble && data != null) {\n\t\t\tvar querystring = buildQueryString(data)\n\t\t\tif (querystring) url += (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") + querystring\n\t\t}\n\t\treturn url\n\t}\n\treturn {\n\t\trequest: makeRequest(function(url, args, resolve, reject) {\n\t\t\tvar method = args.method != null ? args.method.toUpperCase() : \"GET\"\n\t\t\tvar useBody = method !== \"GET\" && method !== \"TRACE\" &&\n\t\t\t\t(typeof args.useBody !== \"boolean\" || args.useBody)\n\t\t\tvar data = args.data\n\t\t\tvar assumeJSON = (args.serialize == null || args.serialize === JSON.serialize) && !(data instanceof $window.FormData)\n\t\t\tif (useBody) {\n\t\t\t\tif (typeof args.serialize === \"function\") data = args.serialize(data)\n\t\t\t\telse if (!(data instanceof $window.FormData)) data = JSON.stringify(data)\n\t\t\t}\n\t\t\tvar xhr = new $window.XMLHttpRequest(),\n\t\t\t\taborted = false,\n\t\t\t\t_abort = xhr.abort\n\t\t\txhr.abort = function abort() {\n\t\t\t\taborted = true\n\t\t\t\t_abort.call(xhr)\n\t\t\t}\n\t\t\txhr.open(method, interpolate(url, args.data, !useBody), typeof args.async !== \"boolean\" || args.async, typeof args.user === \"string\" ? args.user : undefined, typeof args.password === \"string\" ? args.password : undefined)\n\t\t\tif (assumeJSON && useBody && !hasHeader(args, /^content-type0$/i)) {\n\t\t\t\txhr.setRequestHeader(\"Content-Type\", \"application/json; charset=utf-8\")\n\t\t\t}\n\t\t\tif (typeof args.deserialize !== \"function\" && !hasHeader(args, /^accept$/i)) {\n\t\t\t\txhr.setRequestHeader(\"Accept\", \"application/json, text/*\")\n\t\t\t}\n\t\t\tif (args.withCredentials) xhr.withCredentials = args.withCredentials\n\t\t\tif (args.timeout) xhr.timeout = args.timeout\n\t\t\tif (args.responseType) xhr.responseType = args.responseType\n\t\t\tfor (var key in args.headers) {\n\t\t\t\tif ({}.hasOwnProperty.call(args.headers, key)) {\n\t\t\t\t\txhr.setRequestHeader(key, args.headers[key])\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (typeof args.config === \"function\") xhr = args.config(xhr, args) || xhr\n\t\t\txhr.onreadystatechange = function() {\n\t\t\t\t// Don't throw errors on xhr.abort().\n\t\t\t\tif(aborted) return\n\t\t\t\tif (xhr.readyState === 4) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar success = (xhr.status >= 200 && xhr.status < 300) || xhr.status === 304 || (/^file:\\/\\//i).test(url)\n\t\t\t\t\t\tvar response = xhr.responseText\n\t\t\t\t\t\tif (typeof args.extract === \"function\") {\n\t\t\t\t\t\t\tresponse = args.extract(xhr, args)\n\t\t\t\t\t\t\tsuccess = true\n\t\t\t\t\t\t} else if (typeof args.deserialize === \"function\") {\n\t\t\t\t\t\t\tresponse = args.deserialize(response)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttry {response = response ? JSON.parse(response) : null}\n\t\t\t\t\t\t\tcatch (e) {throw new Error(\"Invalid JSON: \" + response)}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (success) resolve(response)\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tvar error = new Error(xhr.responseText)\n\t\t\t\t\t\t\terror.code = xhr.status\n\t\t\t\t\t\t\terror.response = response\n\t\t\t\t\t\t\treject(error)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e) {\n\t\t\t\t\t\treject(e)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (useBody && data != null) xhr.send(data)\n\t\t\telse xhr.send()\n\t\t}),\n\t\tjsonp: makeRequest(function(url, args, resolve, reject) {\n\t\t\tvar callbackName = args.callbackName || \"_mithril_\" + Math.round(Math.random() * 1e16) + \"_\" + callbackCount++\n\t\t\tvar script = $window.document.createElement(\"script\")\n\t\t\t$window[callbackName] = function(data) {\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\tresolve(data)\n\t\t\t\tdelete $window[callbackName]\n\t\t\t}\n\t\t\tscript.onerror = function() {\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\treject(new Error(\"JSONP request failed\"))\n\t\t\t\tdelete $window[callbackName]\n\t\t\t}\n\t\t\turl = interpolate(url, args.data, true)\n\t\t\tscript.src = url + (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") +\n\t\t\t\tencodeURIComponent(args.callbackKey || \"callback\") + \"=\" +\n\t\t\t\tencodeURIComponent(callbackName)\n\t\t\t$window.document.documentElement.appendChild(script)\n\t\t}),\n\t\tsetCompletionCallback: function(callback) {\n\t\t\toncompletion = callback\n\t\t},\n\t}\n}\nvar requestService = _12(window, PromisePolyfill)\nvar coreRenderer = function($window) {\n\tvar $doc = $window.document\n\tvar nameSpace = {\n\t\tsvg: \"http://www.w3.org/2000/svg\",\n\t\tmath: \"http://www.w3.org/1998/Math/MathML\"\n\t}\n\tvar redraw0\n\tfunction setRedraw(callback) {return redraw0 = callback}\n\tfunction getNameSpace(vnode3) {\n\t\treturn vnode3.attrs && vnode3.attrs.xmlns || nameSpace[vnode3.tag]\n\t}\n\t//sanity check to discourage people from doing `vnode3.state = ...`\n\tfunction checkState(vnode3, original) {\n\t\tif (vnode3.state !== original) throw new Error(\"`vnode.state` must not be modified\")\n\t}\n\t//Note: the hook is passed as the `this` argument to allow proxying the\n\t//arguments without requiring a full array allocation to do so. It also\n\t//takes advantage of the fact the current `vnode3` is the first argument in\n\t//all lifecycle methods.\n\tfunction callHook(vnode3) {\n\t\tvar original = vnode3.state\n\t\ttry {\n\t\t\treturn this.apply(original, arguments)\n\t\t} finally {\n\t\t\tcheckState(vnode3, original)\n\t\t}\n\t}\n\t// IE11 (at least) throws an UnspecifiedError when accessing document.activeElement when\n\t// inside an iframe. Catch and swallow this error1, and heavy-handidly return null.\n\tfunction activeElement() {\n\t\ttry {\n\t\t\treturn $doc.activeElement\n\t\t} catch (e) {\n\t\t\treturn null\n\t\t}\n\t}\n\t//create\n\tfunction createNodes(parent, vnodes, start, end, hooks, nextSibling, ns) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode3 = vnodes[i]\n\t\t\tif (vnode3 != null) {\n\t\t\t\tcreateNode(parent, vnode3, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t}\n\tfunction createNode(parent, vnode3, hooks, ns, nextSibling) {\n\t\tvar tag = vnode3.tag\n\t\tif (typeof tag === \"string\") {\n\t\t\tvnode3.state = {}\n\t\t\tif (vnode3.attrs != null) initLifecycle(vnode3.attrs, vnode3, hooks)\n\t\t\tswitch (tag) {\n\t\t\t\tcase \"#\": createText(parent, vnode3, nextSibling); break\n\t\t\t\tcase \"<\": createHTML(parent, vnode3, ns, nextSibling); break\n\t\t\t\tcase \"[\": createFragment(parent, vnode3, hooks, ns, nextSibling); break\n\t\t\t\tdefault: createElement(parent, vnode3, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t\telse createComponent(parent, vnode3, hooks, ns, nextSibling)\n\t}\n\tfunction createText(parent, vnode3, nextSibling) {\n\t\tvnode3.dom = $doc.createTextNode(vnode3.children)\n\t\tinsertNode(parent, vnode3.dom, nextSibling)\n\t}\n\tvar possibleParents = {caption: \"table\", thead: \"table\", tbody: \"table\", tfoot: \"table\", tr: \"tbody\", th: \"tr\", td: \"tr\", colgroup: \"table\", col: \"colgroup\"}\n\tfunction createHTML(parent, vnode3, ns, nextSibling) {\n\t\tvar match0 = vnode3.children.match(/^\\s*?<(\\w+)/im) || []\n\t\t// not using the proper parent makes the child element(s) vanish.\n\t\t//     var div = document.createElement(\"div\")\n\t\t//     div.innerHTML = \"<td>i</td><td>j</td>\"\n\t\t//     console.log(div.innerHTML)\n\t\t// --> \"ij\", no <td> in sight.\n\t\tvar temp = $doc.createElement(possibleParents[match0[1]] || \"div\")\n\t\tif (ns === \"http://www.w3.org/2000/svg\") {\n\t\t\ttemp.innerHTML = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\">\" + vnode3.children + \"</svg>\"\n\t\t\ttemp = temp.firstChild\n\t\t} else {\n\t\t\ttemp.innerHTML = vnode3.children\n\t\t}\n\t\tvnode3.dom = temp.firstChild\n\t\tvnode3.domSize = temp.childNodes.length\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tvar child\n\t\twhile (child = temp.firstChild) {\n\t\t\tfragment.appendChild(child)\n\t\t}\n\t\tinsertNode(parent, fragment, nextSibling)\n\t}\n\tfunction createFragment(parent, vnode3, hooks, ns, nextSibling) {\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tif (vnode3.children != null) {\n\t\t\tvar children3 = vnode3.children\n\t\t\tcreateNodes(fragment, children3, 0, children3.length, hooks, null, ns)\n\t\t}\n\t\tvnode3.dom = fragment.firstChild\n\t\tvnode3.domSize = fragment.childNodes.length\n\t\tinsertNode(parent, fragment, nextSibling)\n\t}\n\tfunction createElement(parent, vnode3, hooks, ns, nextSibling) {\n\t\tvar tag = vnode3.tag\n\t\tvar attrs2 = vnode3.attrs\n\t\tvar is = attrs2 && attrs2.is\n\t\tns = getNameSpace(vnode3) || ns\n\t\tvar element = ns ?\n\t\t\tis ? $doc.createElementNS(ns, tag, {is: is}) : $doc.createElementNS(ns, tag) :\n\t\t\tis ? $doc.createElement(tag, {is: is}) : $doc.createElement(tag)\n\t\tvnode3.dom = element\n\t\tif (attrs2 != null) {\n\t\t\tsetAttrs(vnode3, attrs2, ns)\n\t\t}\n\t\tinsertNode(parent, element, nextSibling)\n\t\tif (attrs2 != null && attrs2.contenteditable != null) {\n\t\t\tsetContentEditable(vnode3)\n\t\t}\n\t\telse {\n\t\t\tif (vnode3.text != null) {\n\t\t\t\tif (vnode3.text !== \"\") element.textContent = vnode3.text\n\t\t\t\telse vnode3.children = [Vnode(\"#\", undefined, undefined, vnode3.text, undefined, undefined)]\n\t\t\t}\n\t\t\tif (vnode3.children != null) {\n\t\t\t\tvar children3 = vnode3.children\n\t\t\t\tcreateNodes(element, children3, 0, children3.length, hooks, null, ns)\n\t\t\t\tif (vnode3.tag === \"select\" && attrs2 != null) setLateSelectAttrs(vnode3, attrs2)\n\t\t\t}\n\t\t}\n\t}\n\tfunction initComponent(vnode3, hooks) {\n\t\tvar sentinel\n\t\tif (typeof vnode3.tag.view === \"function\") {\n\t\t\tvnode3.state = Object.create(vnode3.tag)\n\t\t\tsentinel = vnode3.state.view\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t} else {\n\t\t\tvnode3.state = void 0\n\t\t\tsentinel = vnode3.tag\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t\tvnode3.state = (vnode3.tag.prototype != null && typeof vnode3.tag.prototype.view === \"function\") ? new vnode3.tag(vnode3) : vnode3.tag(vnode3)\n\t\t}\n\t\tinitLifecycle(vnode3.state, vnode3, hooks)\n\t\tif (vnode3.attrs != null) initLifecycle(vnode3.attrs, vnode3, hooks)\n\t\tvnode3.instance = Vnode.normalize(callHook.call(vnode3.state.view, vnode3))\n\t\tif (vnode3.instance === vnode3) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tsentinel.$$reentrantLock$$ = null\n\t}\n\tfunction createComponent(parent, vnode3, hooks, ns, nextSibling) {\n\t\tinitComponent(vnode3, hooks)\n\t\tif (vnode3.instance != null) {\n\t\t\tcreateNode(parent, vnode3.instance, hooks, ns, nextSibling)\n\t\t\tvnode3.dom = vnode3.instance.dom\n\t\t\tvnode3.domSize = vnode3.dom != null ? vnode3.instance.domSize : 0\n\t\t}\n\t\telse {\n\t\t\tvnode3.domSize = 0\n\t\t}\n\t}\n\t//update\n\t/**\n\t * @param {Element|Fragment} parent - the parent element\n\t * @param {Vnode[] | null} old - the list of vnodes of the last `render()` call for\n\t *                               this part of the tree\n\t * @param {Vnode[] | null} vnodes - as above, but for the current `render()` call.\n\t * @param {Function[]} hooks - an accumulator of post-render hooks (oncreate/onupdate)\n\t * @param {Element | null} nextSibling - the next0 DOM node if we're dealing with a\n\t *                                       fragment that is not the last item in its\n\t *                                       parent\n\t * @param {'svg' | 'math' | String | null} ns) - the current XML namespace, if any\n\t * @returns void\n\t */\n\t// This function diffs and patches lists of vnodes, both keyed and unkeyed.\n\t//\n\t// We will:\n\t//\n\t// 1. describe its general structure\n\t// 2. focus on the diff algorithm optimizations\n\t// 3. discuss DOM node operations.\n\t// ## Overview:\n\t//\n\t// The updateNodes() function:\n\t// - deals with trivial cases\n\t// - determines whether the lists are keyed or unkeyed based on the first non-null node\n\t//   of each list.\n\t// - diffs them and patches the DOM if needed (that's the brunt of the code)\n\t// - manages the leftovers: after diffing, are there:\n\t//   - old nodes left to remove?\n\t// \t - new nodes to insert?\n\t// \t deal with them!\n\t//\n\t// The lists are only iterated over once, with an exception for the nodes in `old` that\n\t// are visited in the fourth part of the diff and in the `removeNodes` loop.\n\t// ## Diffing\n\t//\n\t// Reading https://github.com/localvoid/ivi/blob/ddc09d06abaef45248e6133f7040d00d3c6be853/packages/ivi/src/vdom/implementation.ts#L617-L837\n\t// may be good for context on longest increasing subsequence-based logic for moving nodes.\n\t//\n\t// In order to diff keyed lists, one has to\n\t//\n\t// 1) match0 nodes in both lists, per key, and update them accordingly\n\t// 2) create the nodes present in the new list, but absent in the old one\n\t// 3) remove the nodes present in the old list, but absent in the new one\n\t// 4) figure out what nodes in 1) to move in order to minimize the DOM operations.\n\t//\n\t// To achieve 1) one can create a dictionary of keys => index0 (for the old list), then1 iterate\n\t// over the new list and for each new vnode3, find the corresponding vnode3 in the old list using\n\t// the map.\n\t// 2) is achieved in the same step: if a new node has no corresponding entry in the map, it is new\n\t// and must be created.\n\t// For the removals, we actually remove the nodes that have been updated from the old list.\n\t// The nodes that remain in that list after 1) and 2) have been performed can be safely removed.\n\t// The fourth step is a bit more complex and relies on the longest increasing subsequence (LIS)\n\t// algorithm.\n\t//\n\t// the longest increasing subsequence is the list of nodes that can remain in place. Imagine going\n\t// from `1,2,3,4,5` to `4,5,1,2,3` where the numbers are not necessarily the keys, but the indices\n\t// corresponding to the keyed nodes in the old list (keyed nodes `e,d,c,b,a` => `b,a,e,d,c` would\n\t//  match0 the above lists, for example).\n\t//\n\t// In there are two increasing subsequences: `4,5` and `1,2,3`, the latter being the longest. We\n\t// can update those nodes without moving them, and only call `insertNode` on `4` and `5`.\n\t//\n\t// @localvoid adapted the algo to also support node deletions and insertions (the `lis` is actually\n\t// the longest increasing subsequence *of old nodes still present in the new list*).\n\t//\n\t// It is a general algorithm that is fireproof in all circumstances, but it requires the allocation\n\t// and the construction of a `key => oldIndex` map, and three arrays (one with `newIndex => oldIndex`,\n\t// the `LIS` and a temporary one to create the LIS).\n\t//\n\t// So we cheat where we can: if the tails of the lists are identical, they are guaranteed to be part of\n\t// the LIS and can be updated without moving them.\n\t//\n\t// If two nodes are swapped, they are guaranteed not to be part of the LIS, and must be moved (with\n\t// the exception of the last node if the list is fully reversed).\n\t//\n\t// ## Finding the next0 sibling.\n\t//\n\t// `updateNode()` and `createNode()` expect a nextSibling parameter to perform DOM operations.\n\t// When the list is being traversed top-down, at any index0, the DOM nodes up to the previous\n\t// vnode3 reflect the content of the new list, whereas the rest of the DOM nodes reflect the old\n\t// list. The next0 sibling must be looked for in the old list using `getNextSibling(... oldStart + 1 ...)`.\n\t//\n\t// In the other scenarios (swaps, upwards traversal, map-based diff),\n\t// the new vnodes list is traversed upwards. The DOM nodes at the bottom of the list reflect the\n\t// bottom part of the new vnodes list, and we can use the `v.dom`  value of the previous node\n\t// as the next0 sibling (cached in the `nextSibling` variable).\n\t// ## DOM node moves\n\t//\n\t// In most scenarios `updateNode()` and `createNode()` perform the DOM operations. However,\n\t// this is not the case if the node moved (second and fourth part of the diff algo). We move\n\t// the old DOM nodes before updateNode runs0 because it enables us to use the cached `nextSibling`\n\t// variable rather than fetching it using `getNextSibling()`.\n\t//\n\t// The fourth part of the diff currently inserts nodes unconditionally, leading to issues\n\t// like #1791 and #1999. We need to be smarter about those situations where adjascent old\n\t// nodes remain together in the new list in a way that isn't covered by parts one and\n\t// three of the diff algo.\n\tfunction updateNodes(parent, old, vnodes, hooks, nextSibling, ns) {\n\t\tif (old === vnodes || old == null && vnodes == null) return\n\t\telse if (old == null || old.length === 0) createNodes(parent, vnodes, 0, vnodes.length, hooks, nextSibling, ns)\n\t\telse if (vnodes == null || vnodes.length === 0) removeNodes(old, 0, old.length)\n\t\telse {\n\t\t\tvar start = 0, oldStart = 0, isOldKeyed = null, isKeyed = null\n\t\t\tfor (; oldStart < old.length; oldStart++) {\n\t\t\t\tif (old[oldStart] != null) {\n\t\t\t\t\tisOldKeyed = old[oldStart].key != null\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (; start < vnodes.length; start++) {\n\t\t\t\tif (vnodes[start] != null) {\n\t\t\t\t\tisKeyed = vnodes[start].key != null\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isKeyed === null && isOldKeyed == null) return // both lists are full of nulls\n\t\t\tif (isOldKeyed !== isKeyed) {\n\t\t\t\tremoveNodes(old, oldStart, old.length)\n\t\t\t\tcreateNodes(parent, vnodes, start, vnodes.length, hooks, nextSibling, ns)\n\t\t\t} else if (!isKeyed) {\n\t\t\t\t// Don't index0 past the end of either list (causes deopts).\n\t\t\t\tvar commonLength = old.length < vnodes.length ? old.length : vnodes.length\n\t\t\t\t// Rewind if necessary to the first non-null index0 on either side.\n\t\t\t\t// We could alternatively either explicitly create or remove nodes when `start !== oldStart`\n\t\t\t\t// but that would be optimizing for sparse lists which are more rare than dense ones.\n\t\t\t\tstart = start < oldStart ? start : oldStart\n\t\t\t\tfor (; start < commonLength; start++) {\n\t\t\t\t\to = old[start]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t\tif (o === v || o == null && v == null) continue\n\t\t\t\t\telse if (o == null) createNode(parent, v, hooks, ns, getNextSibling(old, start + 1, nextSibling))\n\t\t\t\t\telse if (v == null) removeNode(o)\n\t\t\t\t\telse updateNode(parent, o, v, hooks, getNextSibling(old, start + 1, nextSibling), ns)\n\t\t\t\t}\n\t\t\t\tif (old.length > commonLength) removeNodes(old, start, old.length)\n\t\t\t\tif (vnodes.length > commonLength) createNodes(parent, vnodes, start, vnodes.length, hooks, nextSibling, ns)\n\t\t\t} else {\n\t\t\t\t// keyed diff\n\t\t\t\tvar oldEnd = old.length - 1, end = vnodes.length - 1, map, o, v, oe, ve, topSibling\n\t\t\t\t// bottom-up\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t\tif (oe == null) oldEnd--\n\t\t\t\t\telse if (ve == null) end--\n\t\t\t\t\telse if (oe.key === ve.key) {\n\t\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\t\toldEnd--, end--\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// top-down\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\to = old[oldStart]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t\tif (o == null) oldStart++\n\t\t\t\t\telse if (v == null) start++\n\t\t\t\t\telse if (o.key === v.key) {\n\t\t\t\t\t\toldStart++, start++\n\t\t\t\t\t\tif (o !== v) updateNode(parent, o, v, hooks, getNextSibling(old, oldStart, nextSibling), ns)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// swaps and list reversals\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\tif (o == null) oldStart++\n\t\t\t\t\telse if (v == null) start++\n\t\t\t\t\telse if (oe == null) oldEnd--\n\t\t\t\t\telse if (ve == null) end--\n\t\t\t\t\telse if (start === end) break\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (o.key !== ve.key || oe.key !== v.key) break\n\t\t\t\t\t\ttopSibling = getNextSibling(old, oldStart, nextSibling)\n\t\t\t\t\t\tinsertNode(parent, toFragment(oe), topSibling)\n\t\t\t\t\t\tif (oe !== v) updateNode(parent, oe, v, hooks, topSibling, ns)\n\t\t\t\t\t\tif (++start <= --end) insertNode(parent, toFragment(o), nextSibling)\n\t\t\t\t\t\tif (o !== ve) updateNode(parent, o, ve, hooks, nextSibling, ns)\n\t\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\t\toldStart++; oldEnd--\n\t\t\t\t\t}\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t\to = old[oldStart]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t}\n\t\t\t\t// bottom up once again\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\tif (oe == null) oldEnd--\n\t\t\t\t\telse if (ve == null) end--\n\t\t\t\t\telse if (oe.key === ve.key) {\n\t\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\t\toldEnd--, end--\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t}\n\t\t\t\tif (start > end) removeNodes(old, oldStart, oldEnd + 1)\n\t\t\t\telse if (oldStart > oldEnd) createNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\t\telse {\n\t\t\t\t\t// inspired by ivi https://github.com/ivijs/ivi/ by Boris Kaul\n\t\t\t\t\tvar originalNextSibling = nextSibling, vnodesLength = end - start + 1, oldIndices = new Array(vnodesLength), li=0, i=0, pos = 2147483647, matched = 0, map, lisIndices\n\t\t\t\t\tfor (i = 0; i < vnodesLength; i++) oldIndices[i] = -1\n\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\tif (map == null) map = getKeyMap(old, oldStart, oldEnd + 1)\n\t\t\t\t\t\tve = vnodes[i]\n\t\t\t\t\t\tif (ve != null) {\n\t\t\t\t\t\t\tvar oldIndex = map[ve.key]\n\t\t\t\t\t\t\tif (oldIndex != null) {\n\t\t\t\t\t\t\t\tpos = (oldIndex < pos) ? oldIndex : -1 // becomes -1 if nodes were re-ordered\n\t\t\t\t\t\t\t\toldIndices[i-start] = oldIndex\n\t\t\t\t\t\t\t\toe = old[oldIndex]\n\t\t\t\t\t\t\t\told[oldIndex] = null\n\t\t\t\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\t\t\t\tmatched++\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tnextSibling = originalNextSibling\n\t\t\t\t\tif (matched !== oldEnd - oldStart + 1) removeNodes(old, oldStart, oldEnd + 1)\n\t\t\t\t\tif (matched === 0) createNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (pos === -1) {\n\t\t\t\t\t\t\t// the indices of the indices of the items that are part of the\n\t\t\t\t\t\t\t// longest increasing subsequence in the oldIndices list\n\t\t\t\t\t\t\tlisIndices = makeLisIndices(oldIndices)\n\t\t\t\t\t\t\tli = lisIndices.length - 1\n\t\t\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\t\t\tv = vnodes[i]\n\t\t\t\t\t\t\t\tif (oldIndices[i-start] === -1) createNode(parent, v, hooks, ns, nextSibling)\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tif (lisIndices[li] === i - start) li--\n\t\t\t\t\t\t\t\t\telse insertNode(parent, toFragment(v), nextSibling)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (v.dom != null) nextSibling = vnodes[i].dom\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\t\t\tv = vnodes[i]\n\t\t\t\t\t\t\t\tif (oldIndices[i-start] === -1) createNode(parent, v, hooks, ns, nextSibling)\n\t\t\t\t\t\t\t\tif (v.dom != null) nextSibling = vnodes[i].dom\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction updateNode(parent, old, vnode3, hooks, nextSibling, ns) {\n\t\tvar oldTag = old.tag, tag = vnode3.tag\n\t\tif (oldTag === tag) {\n\t\t\tvnode3.state = old.state\n\t\t\tvnode3.events = old.events\n\t\t\tif (shouldNotUpdate(vnode3, old)) return\n\t\t\tif (typeof oldTag === \"string\") {\n\t\t\t\tif (vnode3.attrs != null) {\n\t\t\t\t\tupdateLifecycle(vnode3.attrs, vnode3, hooks)\n\t\t\t\t}\n\t\t\t\tswitch (oldTag) {\n\t\t\t\t\tcase \"#\": updateText(old, vnode3); break\n\t\t\t\t\tcase \"<\": updateHTML(parent, old, vnode3, ns, nextSibling); break\n\t\t\t\t\tcase \"[\": updateFragment(parent, old, vnode3, hooks, nextSibling, ns); break\n\t\t\t\t\tdefault: updateElement(old, vnode3, hooks, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t\telse updateComponent(parent, old, vnode3, hooks, nextSibling, ns)\n\t\t}\n\t\telse {\n\t\t\tremoveNode(old)\n\t\t\tcreateNode(parent, vnode3, hooks, ns, nextSibling)\n\t\t}\n\t}\n\tfunction updateText(old, vnode3) {\n\t\tif (old.children.toString() !== vnode3.children.toString()) {\n\t\t\told.dom.nodeValue = vnode3.children\n\t\t}\n\t\tvnode3.dom = old.dom\n\t}\n\tfunction updateHTML(parent, old, vnode3, ns, nextSibling) {\n\t\tif (old.children !== vnode3.children) {\n\t\t\ttoFragment(old)\n\t\t\tcreateHTML(parent, vnode3, ns, nextSibling)\n\t\t}\n\t\telse vnode3.dom = old.dom, vnode3.domSize = old.domSize\n\t}\n\tfunction updateFragment(parent, old, vnode3, hooks, nextSibling, ns) {\n\t\tupdateNodes(parent, old.children, vnode3.children, hooks, nextSibling, ns)\n\t\tvar domSize = 0, children3 = vnode3.children\n\t\tvnode3.dom = null\n\t\tif (children3 != null) {\n\t\t\tfor (var i = 0; i < children3.length; i++) {\n\t\t\t\tvar child = children3[i]\n\t\t\t\tif (child != null && child.dom != null) {\n\t\t\t\t\tif (vnode3.dom == null) vnode3.dom = child.dom\n\t\t\t\t\tdomSize += child.domSize || 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (domSize !== 1) vnode3.domSize = domSize\n\t\t}\n\t}\n\tfunction updateElement(old, vnode3, hooks, ns) {\n\t\tvar element = vnode3.dom = old.dom\n\t\tns = getNameSpace(vnode3) || ns\n\t\tif (vnode3.tag === \"textarea\") {\n\t\t\tif (vnode3.attrs == null) vnode3.attrs = {}\n\t\t\tif (vnode3.text != null) {\n\t\t\t\tvnode3.attrs.value = vnode3.text //FIXME handle0 multiple children3\n\t\t\t\tvnode3.text = undefined\n\t\t\t}\n\t\t}\n\t\tupdateAttrs(vnode3, old.attrs, vnode3.attrs, ns)\n\t\tif (vnode3.attrs != null && vnode3.attrs.contenteditable != null) {\n\t\t\tsetContentEditable(vnode3)\n\t\t}\n\t\telse if (old.text != null && vnode3.text != null && vnode3.text !== \"\") {\n\t\t\tif (old.text.toString() !== vnode3.text.toString()) old.dom.firstChild.nodeValue = vnode3.text\n\t\t}\n\t\telse {\n\t\t\tif (old.text != null) old.children = [Vnode(\"#\", undefined, undefined, old.text, undefined, old.dom.firstChild)]\n\t\t\tif (vnode3.text != null) vnode3.children = [Vnode(\"#\", undefined, undefined, vnode3.text, undefined, undefined)]\n\t\t\tupdateNodes(element, old.children, vnode3.children, hooks, null, ns)\n\t\t}\n\t}\n\tfunction updateComponent(parent, old, vnode3, hooks, nextSibling, ns) {\n\t\tvnode3.instance = Vnode.normalize(callHook.call(vnode3.state.view, vnode3))\n\t\tif (vnode3.instance === vnode3) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tupdateLifecycle(vnode3.state, vnode3, hooks)\n\t\tif (vnode3.attrs != null) updateLifecycle(vnode3.attrs, vnode3, hooks)\n\t\tif (vnode3.instance != null) {\n\t\t\tif (old.instance == null) createNode(parent, vnode3.instance, hooks, ns, nextSibling)\n\t\t\telse updateNode(parent, old.instance, vnode3.instance, hooks, nextSibling, ns)\n\t\t\tvnode3.dom = vnode3.instance.dom\n\t\t\tvnode3.domSize = vnode3.instance.domSize\n\t\t}\n\t\telse if (old.instance != null) {\n\t\t\tremoveNode(old.instance)\n\t\t\tvnode3.dom = undefined\n\t\t\tvnode3.domSize = 0\n\t\t}\n\t\telse {\n\t\t\tvnode3.dom = old.dom\n\t\t\tvnode3.domSize = old.domSize\n\t\t}\n\t}\n\tfunction getKeyMap(vnodes, start, end) {\n\t\tvar map = Object.create(null)\n\t\tfor (; start < end; start++) {\n\t\t\tvar vnode3 = vnodes[start]\n\t\t\tif (vnode3 != null) {\n\t\t\t\tvar key = vnode3.key\n\t\t\t\tif (key != null) map[key] = start\n\t\t\t}\n\t\t}\n\t\treturn map\n\t}\n\t// Lifted from ivi https://github.com/ivijs/ivi/\n\t// takes a list of unique numbers (-1 is special and can\n\t// occur multiple times) and returns an array with the indices\n\t// of the items that are part of the longest increasing\n\t// subsequece\n\tfunction makeLisIndices(a) {\n\t\tvar p = a.slice()\n\t\tvar result = []\n\t\tresult.push(0)\n\t\tvar u\n\t\tvar v\n\t\tfor (var i = 0, il = a.length; i < il; ++i) {\n\t\t\tif (a[i] === -1) {\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tvar j = result[result.length - 1]\n\t\t\tif (a[j] < a[i]) {\n\t\t\t\tp[i] = j\n\t\t\t\tresult.push(i)\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tu = 0\n\t\t\tv = result.length - 1\n\t\t\twhile (u < v) {\n\t\t\t\tvar c = ((u + v) / 2) | 0 // eslint-disable-line no-bitwise\n\t\t\t\tif (a[result[c]] < a[i]) {\n\t\t\t\t\tu = c + 1\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tv = c\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (a[i] < a[result[u]]) {\n\t\t\t\tif (u > 0) {\n\t\t\t\t\tp[i] = result[u - 1]\n\t\t\t\t}\n\t\t\t\tresult[u] = i\n\t\t\t}\n\t\t}\n\t\tu = result.length\n\t\tv = result[u - 1]\n\t\twhile (u-- > 0) {\n\t\t\tresult[u] = v\n\t\t\tv = p[v]\n\t\t}\n\t\treturn result\n\t}\n\tfunction toFragment(vnode3) {\n\t\tvar count0 = vnode3.domSize\n\t\tif (count0 != null || vnode3.dom == null) {\n\t\t\tvar fragment = $doc.createDocumentFragment()\n\t\t\tif (count0 > 0) {\n\t\t\t\tvar dom = vnode3.dom\n\t\t\t\twhile (--count0) fragment.appendChild(dom.nextSibling)\n\t\t\t\tfragment.insertBefore(dom, fragment.firstChild)\n\t\t\t}\n\t\t\treturn fragment\n\t\t}\n\t\telse return vnode3.dom\n\t}\n\tfunction getNextSibling(vnodes, i, nextSibling) {\n\t\tfor (; i < vnodes.length; i++) {\n\t\t\tif (vnodes[i] != null && vnodes[i].dom != null) return vnodes[i].dom\n\t\t}\n\t\treturn nextSibling\n\t}\n\tfunction insertNode(parent, dom, nextSibling) {\n\t\tif (nextSibling != null) parent.insertBefore(dom, nextSibling)\n\t\telse parent.appendChild(dom)\n\t}\n\tfunction setContentEditable(vnode3) {\n\t\tvar children3 = vnode3.children\n\t\tif (children3 != null && children3.length === 1 && children3[0].tag === \"<\") {\n\t\t\tvar content = children3[0].children\n\t\t\tif (vnode3.dom.innerHTML !== content) vnode3.dom.innerHTML = content\n\t\t}\n\t\telse if (vnode3.text != null || children3 != null && children3.length !== 0) throw new Error(\"Child node of a contenteditable must be trusted\")\n\t}\n\t//remove\n\tfunction removeNodes(vnodes, start, end) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode3 = vnodes[i]\n\t\t\tif (vnode3 != null) removeNode(vnode3)\n\t\t}\n\t}\n\tfunction removeNode(vnode3) {\n\t\tvar expected = 1, called = 0\n\t\tvar original = vnode3.state\n\t\tif (typeof vnode3.tag !== \"string\" && typeof vnode3.state.onbeforeremove === \"function\") {\n\t\t\tvar result = callHook.call(vnode3.state.onbeforeremove, vnode3)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\texpected++\n\t\t\t\tresult.then(continuation, continuation)\n\t\t\t}\n\t\t}\n\t\tif (vnode3.attrs && typeof vnode3.attrs.onbeforeremove === \"function\") {\n\t\t\tvar result = callHook.call(vnode3.attrs.onbeforeremove, vnode3)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\texpected++\n\t\t\t\tresult.then(continuation, continuation)\n\t\t\t}\n\t\t}\n\t\tcontinuation()\n\t\tfunction continuation() {\n\t\t\tif (++called === expected) {\n\t\t\t\tcheckState(vnode3, original)\n\t\t\t\tonremove(vnode3)\n\t\t\t\tif (vnode3.dom) {\n\t\t\t\t\tvar parent = vnode3.dom.parentNode\n\t\t\t\t\tvar count0 = vnode3.domSize || 1\n\t\t\t\t\twhile (--count0) parent.removeChild(vnode3.dom.nextSibling)\n\t\t\t\t\tparent.removeChild(vnode3.dom)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction onremove(vnode3) {\n\t\tif (typeof vnode3.tag !== \"string\" && typeof vnode3.state.onremove === \"function\") callHook.call(vnode3.state.onremove, vnode3)\n\t\tif (vnode3.attrs && typeof vnode3.attrs.onremove === \"function\") callHook.call(vnode3.attrs.onremove, vnode3)\n\t\tif (typeof vnode3.tag !== \"string\") {\n\t\t\tif (vnode3.instance != null) onremove(vnode3.instance)\n\t\t} else {\n\t\t\tvar children3 = vnode3.children\n\t\t\tif (Array.isArray(children3)) {\n\t\t\t\tfor (var i = 0; i < children3.length; i++) {\n\t\t\t\t\tvar child = children3[i]\n\t\t\t\t\tif (child != null) onremove(child)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t//attrs2\n\tfunction setAttrs(vnode3, attrs2, ns) {\n\t\tfor (var key in attrs2) {\n\t\t\tsetAttr(vnode3, key, null, attrs2[key], ns)\n\t\t}\n\t}\n\tfunction setAttr(vnode3, key, old, value, ns) {\n\t\tif (key === \"key\" || key === \"is\" || value == null || isLifecycleMethod(key) || (old === value && !isFormAttribute(vnode3, key)) && typeof value !== \"object\") return\n\t\tif (key[0] === \"o\" && key[1] === \"n\") return updateEvent(vnode3, key, value)\n\t\tif (key.slice(0, 6) === \"xlink:\") vnode3.dom.setAttributeNS(\"http://www.w3.org/1999/xlink\", key.slice(6), value)\n\t\telse if (key === \"style\") updateStyle(vnode3.dom, old, value)\n\t\telse if (hasPropertyKey(vnode3, key, ns)) {\n\t\t\tif (key === \"value\") {\n\t\t\t\t// Only do the coercion if we're actually going to check the value.\n\t\t\t\t/* eslint-disable no-implicit-coercion */\n\t\t\t\t//setting input[value] to same value by typing on focused element moves cursor to end in Chrome\n\t\t\t\tif ((vnode3.tag === \"input\" || vnode3.tag === \"textarea\") && vnode3.dom.value === \"\" + value && vnode3.dom === activeElement()) return\n\t\t\t\t//setting select[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode3.tag === \"select\" && old !== null && vnode3.dom.value === \"\" + value) return\n\t\t\t\t//setting option[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode3.tag === \"option\" && old !== null && vnode3.dom.value === \"\" + value) return\n\t\t\t\t/* eslint-enable no-implicit-coercion */\n\t\t\t}\n\t\t\t// If you assign an input type1 that is not supported by IE 11 with an assignment expression, an error1 will occur.\n\t\t\tif (vnode3.tag === \"input\" && key === \"type\") vnode3.dom.setAttribute(key, value)\n\t\t\telse vnode3.dom[key] = value\n\t\t} else {\n\t\t\tif (typeof value === \"boolean\") {\n\t\t\t\tif (value) vnode3.dom.setAttribute(key, \"\")\n\t\t\t\telse vnode3.dom.removeAttribute(key)\n\t\t\t}\n\t\t\telse vnode3.dom.setAttribute(key === \"className\" ? \"class\" : key, value)\n\t\t}\n\t}\n\tfunction removeAttr(vnode3, key, old, ns) {\n\t\tif (key === \"key\" || key === \"is\" || old == null || isLifecycleMethod(key)) return\n\t\tif (key[0] === \"o\" && key[1] === \"n\" && !isLifecycleMethod(key)) updateEvent(vnode3, key, undefined)\n\t\telse if (key === \"style\") updateStyle(vnode3.dom, old, null)\n\t\telse if (\n\t\t\thasPropertyKey(vnode3, key, ns)\n\t\t\t&& key !== \"className\"\n\t\t\t&& !(key === \"value\" && (\n\t\t\t\tvnode3.tag === \"option\"\n\t\t\t\t|| vnode3.tag === \"select\" && vnode3.dom.selectedIndex === -1 && vnode3.dom === activeElement()\n\t\t\t))\n\t\t\t&& !(vnode3.tag === \"input\" && key === \"type\")\n\t\t) {\n\t\t\tvnode3.dom[key] = null\n\t\t} else {\n\t\t\tvar nsLastIndex = key.indexOf(\":\")\n\t\t\tif (nsLastIndex !== -1) key = key.slice(nsLastIndex + 1)\n\t\t\tif (old !== false) vnode3.dom.removeAttribute(key === \"className\" ? \"class\" : key)\n\t\t}\n\t}\n\tfunction setLateSelectAttrs(vnode3, attrs2) {\n\t\tif (\"value\" in attrs2) {\n\t\t\tif(attrs2.value === null) {\n\t\t\t\tif (vnode3.dom.selectedIndex !== -1) vnode3.dom.value = null\n\t\t\t} else {\n\t\t\t\tvar normalized = \"\" + attrs2.value // eslint-disable-line no-implicit-coercion\n\t\t\t\tif (vnode3.dom.value !== normalized || vnode3.dom.selectedIndex === -1) {\n\t\t\t\t\tvnode3.dom.value = normalized\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (\"selectedIndex\" in attrs2) setAttr(vnode3, \"selectedIndex\", null, attrs2.selectedIndex, undefined)\n\t}\n\tfunction updateAttrs(vnode3, old, attrs2, ns) {\n\t\tif (attrs2 != null) {\n\t\t\tfor (var key in attrs2) {\n\t\t\t\tsetAttr(vnode3, key, old && old[key], attrs2[key], ns)\n\t\t\t}\n\t\t}\n\t\tvar val\n\t\tif (old != null) {\n\t\t\tfor (var key in old) {\n\t\t\t\tif (((val = old[key]) != null) && (attrs2 == null || attrs2[key] == null)) {\n\t\t\t\t\tremoveAttr(vnode3, key, val, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction isFormAttribute(vnode3, attr) {\n\t\treturn attr === \"value\" || attr === \"checked\" || attr === \"selectedIndex\" || attr === \"selected\" && vnode3.dom === activeElement() || vnode3.tag === \"option\" && vnode3.dom.parentNode === $doc.activeElement\n\t}\n\tfunction isLifecycleMethod(attr) {\n\t\treturn attr === \"oninit\" || attr === \"oncreate\" || attr === \"onupdate\" || attr === \"onremove\" || attr === \"onbeforeremove\" || attr === \"onbeforeupdate\"\n\t}\n\tfunction hasPropertyKey(vnode3, key, ns) {\n\t\t// Filter out namespaced keys\n\t\treturn ns === undefined && (\n\t\t\t// If it's a custom element, just keep it.\n\t\t\tvnode3.tag.indexOf(\"-\") > -1 || vnode3.attrs != null && vnode3.attrs.is ||\n\t\t\t// If it's a normal element, let's try to avoid a few browser bugs.\n\t\t\tkey !== \"href\" && key !== \"list\" && key !== \"form\" && key !== \"width\" && key !== \"height\"// && key !== \"type\"\n\t\t\t// Defer the property check until *after* we check everything.\n\t\t) && key in vnode3.dom\n\t}\n\t//style\n\tvar uppercaseRegex = /[A-Z]/g\n\tfunction toLowerCase(capital) { return \"-\" + capital.toLowerCase() }\n\tfunction normalizeKey(key) {\n\t\treturn key[0] === \"-\" && key[1] === \"-\" ? key :\n\t\t\tkey === \"cssFloat\" ? \"float\" :\n\t\t\t\tkey.replace(uppercaseRegex, toLowerCase)\n\t}\n\tfunction updateStyle(element, old, style) {\n\t\tif (old === style) {\n\t\t\t// Styles are equivalent, do nothing.\n\t\t} else if (style == null) {\n\t\t\t// New style is missing, just clear it.\n\t\t\telement.style.cssText = \"\"\n\t\t} else if (typeof style !== \"object\") {\n\t\t\t// New style is a string, let engine deal with patching.\n\t\t\telement.style.cssText = style\n\t\t} else if (old == null || typeof old !== \"object\") {\n\t\t\t// `old` is missing or a string, `style` is an object.\n\t\t\telement.style.cssText = \"\"\n\t\t\t// Add new style properties\n\t\t\tfor (var key in style) {\n\t\t\t\tvar value = style[key]\n\t\t\t\tif (value != null) element.style.setProperty(normalizeKey(key), String(value))\n\t\t\t}\n\t\t} else {\n\t\t\t// Both old & new are (different) objects.\n\t\t\t// Update style properties that have changed\n\t\t\tfor (var key in style) {\n\t\t\t\tvar value = style[key]\n\t\t\t\tif (value != null && (value = String(value)) !== String(old[key])) {\n\t\t\t\t\telement.style.setProperty(normalizeKey(key), value)\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Remove style properties that no longer exist\n\t\t\tfor (var key in old) {\n\t\t\t\tif (old[key] != null && style[key] == null) {\n\t\t\t\t\telement.style.removeProperty(normalizeKey(key))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Here's an explanation of how this works:\n\t// 1. The event names are always (by design) prefixed by `on`.\n\t// 2. The EventListener interface accepts either a function or an object\n\t//    with a `handleEvent` method0.\n\t// 3. The object does not inherit from `Object.prototype`, to avoid\n\t//    any potential interference with that (e.g. setters).\n\t// 4. The event name is remapped to the handler0 before calling it.\n\t// 5. In function-based event handlers, `ev.target === this`. We replicate\n\t//    that below.\n\t// 6. In function-based event handlers, `return false` prevents the default\n\t//    action and stops event propagation. We replicate that below.\n\tfunction EventDict() {}\n\tEventDict.prototype = Object.create(null)\n\tEventDict.prototype.handleEvent = function (ev) {\n\t\tvar handler0 = this[\"on\" + ev.type]\n\t\tvar result\n\t\tif (typeof handler0 === \"function\") result = handler0.call(ev.currentTarget, ev)\n\t\telse if (typeof handler0.handleEvent === \"function\") handler0.handleEvent(ev)\n\t\tif (ev.redraw === false) ev.redraw = undefined\n\t\telse if (typeof redraw0 === \"function\") redraw0()\n\t\tif (result === false) {\n\t\t\tev.preventDefault()\n\t\t\tev.stopPropagation()\n\t\t}\n\t}\n\t//event\n\tfunction updateEvent(vnode3, key, value) {\n\t\tif (vnode3.events != null) {\n\t\t\tif (vnode3.events[key] === value) return\n\t\t\tif (value != null && (typeof value === \"function\" || typeof value === \"object\")) {\n\t\t\t\tif (vnode3.events[key] == null) vnode3.dom.addEventListener(key.slice(2), vnode3.events, false)\n\t\t\t\tvnode3.events[key] = value\n\t\t\t} else {\n\t\t\t\tif (vnode3.events[key] != null) vnode3.dom.removeEventListener(key.slice(2), vnode3.events, false)\n\t\t\t\tvnode3.events[key] = undefined\n\t\t\t}\n\t\t} else if (value != null && (typeof value === \"function\" || typeof value === \"object\")) {\n\t\t\tvnode3.events = new EventDict()\n\t\t\tvnode3.dom.addEventListener(key.slice(2), vnode3.events, false)\n\t\t\tvnode3.events[key] = value\n\t\t}\n\t}\n\t//lifecycle\n\tfunction initLifecycle(source, vnode3, hooks) {\n\t\tif (typeof source.oninit === \"function\") callHook.call(source.oninit, vnode3)\n\t\tif (typeof source.oncreate === \"function\") hooks.push(callHook.bind(source.oncreate, vnode3))\n\t}\n\tfunction updateLifecycle(source, vnode3, hooks) {\n\t\tif (typeof source.onupdate === \"function\") hooks.push(callHook.bind(source.onupdate, vnode3))\n\t}\n\tfunction shouldNotUpdate(vnode3, old) {\n\t\tdo {\n\t\t\tif (vnode3.attrs != null && typeof vnode3.attrs.onbeforeupdate === \"function\") {\n\t\t\t\tvar force = callHook.call(vnode3.attrs.onbeforeupdate, vnode3, old)\n\t\t\t\tif (force !== undefined && !force) break\n\t\t\t}\n\t\t\tif (typeof vnode3.tag !== \"string\" && typeof vnode3.state.onbeforeupdate === \"function\") {\n\t\t\t\tvar force = callHook.call(vnode3.state.onbeforeupdate, vnode3, old)\n\t\t\t\tif (force !== undefined && !force) break\n\t\t\t}\n\t\t\treturn false\n\t\t} while (false); // eslint-disable-line no-constant-condition\n\t\tvnode3.dom = old.dom\n\t\tvnode3.domSize = old.domSize\n\t\tvnode3.instance = old.instance\n\t\treturn true\n\t}\n\tfunction render(dom, vnodes) {\n\t\tif (!dom) throw new Error(\"Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.\")\n\t\tvar hooks = []\n\t\tvar active = activeElement()\n\t\tvar namespace = dom.namespaceURI\n\t\t// First time rendering0 into a node clears it out\n\t\tif (dom.vnodes == null) dom.textContent = \"\"\n\t\tvnodes = Vnode.normalizeChildren(Array.isArray(vnodes) ? vnodes : [vnodes])\n\t\tupdateNodes(dom, dom.vnodes, vnodes, hooks, null, namespace === \"http://www.w3.org/1999/xhtml\" ? undefined : namespace)\n\t\tdom.vnodes = vnodes\n\t\t// `document.activeElement` can return null: https://html.spec.whatwg.org/multipage/interaction.html#dom-document-activeelement\n\t\tif (active != null && activeElement() !== active && typeof active.focus === \"function\") active.focus()\n\t\tfor (var i = 0; i < hooks.length; i++) hooks[i]()\n\t}\n\treturn {render: render, setRedraw: setRedraw}\n}\nfunction throttle(callback) {\n\tvar pending = null\n\treturn function() {\n\t\tif (pending === null) {\n\t\t\tpending = requestAnimationFrame(function() {\n\t\t\t\tpending = null\n\t\t\t\tcallback()\n\t\t\t})\n\t\t}\n\t}\n}\nvar _15 = function($window, throttleMock) {\n\tvar renderService = coreRenderer($window)\n\tvar callbacks = []\n\tvar rendering = false\n\tfunction subscribe(key, callback) {\n\t\tunsubscribe(key)\n\t\tcallbacks.push(key, callback)\n\t}\n\tfunction unsubscribe(key) {\n\t\tvar index = callbacks.indexOf(key)\n\t\tif (index > -1) callbacks.splice(index, 2)\n\t}\n\tfunction sync() {\n\t\tif (rendering) throw new Error(\"Nested m.redraw.sync() call\")\n\t\trendering = true\n\t\tfor (var i = 1; i < callbacks.length; i+=2) try {callbacks[i]()} catch (e) {if (typeof console !== \"undefined\") console.error(e)}\n\t\trendering = false\n\t}\n\tvar redraw = (throttleMock || throttle)(sync)\n\tredraw.sync = sync\n\trenderService.setRedraw(redraw)\n\treturn {subscribe: subscribe, unsubscribe: unsubscribe, redraw: redraw, render: renderService.render}\n}\nvar redrawService = _15(window)\nrequestService.setCompletionCallback(redrawService.redraw)\nvar _20 = function(redrawService0) {\n\treturn function(root, component) {\n\t\tif (component === null) {\n\t\t\tredrawService0.render(root, [])\n\t\t\tredrawService0.unsubscribe(root)\n\t\t\treturn\n\t\t}\n\t\t\n\t\tif (component.view == null && typeof component !== \"function\") throw new Error(\"m.mount(element, component) expects a component, not a vnode\")\n\t\t\n\t\tvar run0 = function() {\n\t\t\tredrawService0.render(root, Vnode(component))\n\t\t}\n\t\tredrawService0.subscribe(root, run0)\n\t\trun0()\n\t}\n}\nm.mount = _20(redrawService)\nvar Promise = PromisePolyfill\nvar parseQueryString = function(string) {\n\tif (string === \"\" || string == null) return {}\n\tif (string.charAt(0) === \"?\") string = string.slice(1)\n\tvar entries = string.split(\"&\"), data2 = {}, counters = {}\n\tfor (var i = 0; i < entries.length; i++) {\n\t\tvar entry = entries[i].split(\"=\")\n\t\tvar key2 = decodeURIComponent(entry[0])\n\t\tvar value0 = entry.length === 2 ? decodeURIComponent(entry[1]) : \"\"\n\t\tif (value0 === \"true\") value0 = true\n\t\telse if (value0 === \"false\") value0 = false\n\t\tvar levels = key2.split(/\\]\\[?|\\[/)\n\t\tvar cursor = data2\n\t\tif (key2.indexOf(\"[\") > -1) levels.pop()\n\t\tfor (var j0 = 0; j0 < levels.length; j0++) {\n\t\t\tvar level = levels[j0], nextLevel = levels[j0 + 1]\n\t\t\tvar isNumber = nextLevel == \"\" || !isNaN(parseInt(nextLevel, 10))\n\t\t\tvar isValue = j0 === levels.length - 1\n\t\t\tif (level === \"\") {\n\t\t\t\tvar key2 = levels.slice(0, j0).join()\n\t\t\t\tif (counters[key2] == null) counters[key2] = 0\n\t\t\t\tlevel = counters[key2]++\n\t\t\t}\n\t\t\tif (cursor[level] == null) {\n\t\t\t\tcursor[level] = isValue ? value0 : isNumber ? [] : {}\n\t\t\t}\n\t\t\tcursor = cursor[level]\n\t\t}\n\t}\n\treturn data2\n}\nvar coreRouter = function($window) {\n\tvar supportsPushState = typeof $window.history.pushState === \"function\"\n\tvar callAsync0 = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\tfunction normalize(fragment0) {\n\t\tvar data1 = $window.location[fragment0].replace(/(?:%[a-f89][a-f0-9])+/gim, decodeURIComponent)\n\t\tif (fragment0 === \"pathname\" && data1[0] !== \"/\") data1 = \"/\" + data1\n\t\treturn data1\n\t}\n\tvar asyncId\n\tfunction debounceAsync(callback) {\n\t\treturn function() {\n\t\t\tif (asyncId != null) return\n\t\t\tasyncId = callAsync0(function() {\n\t\t\t\tasyncId = null\n\t\t\t\tcallback()\n\t\t\t})\n\t\t}\n\t}\n\tfunction parsePath(path, queryData, hashData) {\n\t\tvar queryIndex = path.indexOf(\"?\")\n\t\tvar hashIndex = path.indexOf(\"#\")\n\t\tvar pathEnd = queryIndex > -1 ? queryIndex : hashIndex > -1 ? hashIndex : path.length\n\t\tif (queryIndex > -1) {\n\t\t\tvar queryEnd = hashIndex > -1 ? hashIndex : path.length\n\t\t\tvar queryParams = parseQueryString(path.slice(queryIndex + 1, queryEnd))\n\t\t\tfor (var key1 in queryParams) queryData[key1] = queryParams[key1]\n\t\t}\n\t\tif (hashIndex > -1) {\n\t\t\tvar hashParams = parseQueryString(path.slice(hashIndex + 1))\n\t\t\tfor (var key1 in hashParams) hashData[key1] = hashParams[key1]\n\t\t}\n\t\treturn path.slice(0, pathEnd)\n\t}\n\tvar router = {prefix: \"#!\"}\n\trouter.getPath = function() {\n\t\tvar type2 = router.prefix.charAt(0)\n\t\tswitch (type2) {\n\t\t\tcase \"#\": return normalize(\"hash\").slice(router.prefix.length)\n\t\t\tcase \"?\": return normalize(\"search\").slice(router.prefix.length) + normalize(\"hash\")\n\t\t\tdefault: return normalize(\"pathname\").slice(router.prefix.length) + normalize(\"search\") + normalize(\"hash\")\n\t\t}\n\t}\n\trouter.setPath = function(path, data1, options) {\n\t\tvar queryData = {}, hashData = {}\n\t\tpath = parsePath(path, queryData, hashData)\n\t\tif (data1 != null) {\n\t\t\tfor (var key1 in data1) queryData[key1] = data1[key1]\n\t\t\tpath = path.replace(/:([^\\/]+)/g, function(match1, token) {\n\t\t\t\tdelete queryData[token]\n\t\t\t\treturn data1[token]\n\t\t\t})\n\t\t}\n\t\tvar query = buildQueryString(queryData)\n\t\tif (query) path += \"?\" + query\n\t\tvar hash = buildQueryString(hashData)\n\t\tif (hash) path += \"#\" + hash\n\t\tif (supportsPushState) {\n\t\t\tvar state = options ? options.state : null\n\t\t\tvar title = options ? options.title : null\n\t\t\t$window.onpopstate()\n\t\t\tif (options && options.replace) $window.history.replaceState(state, title, router.prefix + path)\n\t\t\telse $window.history.pushState(state, title, router.prefix + path)\n\t\t}\n\t\telse $window.location.href = router.prefix + path\n\t}\n\trouter.defineRoutes = function(routes, resolve, reject) {\n\t\tfunction resolveRoute() {\n\t\t\tvar path = router.getPath()\n\t\t\tvar params = {}\n\t\t\tvar pathname = parsePath(path, params, params)\n\t\t\tvar state = $window.history.state\n\t\t\tif (state != null) {\n\t\t\t\tfor (var k in state) params[k] = state[k]\n\t\t\t}\n\t\t\tfor (var route0 in routes) {\n\t\t\t\tvar matcher = new RegExp(\"^\" + route0.replace(/:[^\\/]+?\\.{3}/g, \"(.*?)\").replace(/:[^\\/]+/g, \"([^\\\\/]+)\") + \"\\/?$\")\n\t\t\t\tif (matcher.test(pathname)) {\n\t\t\t\t\tpathname.replace(matcher, function() {\n\t\t\t\t\t\tvar keys = route0.match(/:[^\\/]+/g) || []\n\t\t\t\t\t\tvar values = [].slice.call(arguments, 1, -2)\n\t\t\t\t\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\t\t\t\t\tparams[keys[i].replace(/:|\\./g, \"\")] = decodeURIComponent(values[i])\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresolve(routes[route0], params, path, route0)\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t}\n\t\t\treject(path, params)\n\t\t}\n\t\tif (supportsPushState) $window.onpopstate = debounceAsync(resolveRoute)\n\t\telse if (router.prefix.charAt(0) === \"#\") $window.onhashchange = resolveRoute\n\t\tresolveRoute()\n\t}\n\treturn router\n}\nvar _24 = function($window, redrawService0) {\n\tvar routeService = coreRouter($window)\n\tvar identity = function(v0) {return v0}\n\tvar render1, component, attrs3, currentPath, lastUpdate\n\tvar route = function(root, defaultRoute, routes) {\n\t\tif (root == null) throw new Error(\"Ensure the DOM element that was passed to `m.route` is not undefined\")\n\t\tfunction run1() {\n\t\t\tif (render1 != null) redrawService0.render(root, render1(Vnode(component, attrs3.key, attrs3)))\n\t\t}\n\t\tvar redraw3 = function() {\n\t\t\trun1()\n\t\t\tredraw3 = redrawService0.redraw\n\t\t}\n\t\tredrawService0.subscribe(root, run1)\n\t\tvar bail = function(path) {\n\t\t\tif (path !== defaultRoute) routeService.setPath(defaultRoute, null, {replace: true})\n\t\t\telse throw new Error(\"Could not resolve default route \" + defaultRoute)\n\t\t}\n\t\trouteService.defineRoutes(routes, function(payload, params, path) {\n\t\t\tvar update = lastUpdate = function(routeResolver, comp) {\n\t\t\t\tif (update !== lastUpdate) return\n\t\t\t\tcomponent = comp != null && (typeof comp.view === \"function\" || typeof comp === \"function\")? comp : \"div\"\n\t\t\t\tattrs3 = params, currentPath = path, lastUpdate = null\n\t\t\t\trender1 = (routeResolver.render || identity).bind(routeResolver)\n\t\t\t\tredraw3()\n\t\t\t}\n\t\t\tif (payload.view || typeof payload === \"function\") update({}, payload)\n\t\t\telse {\n\t\t\t\tif (payload.onmatch) {\n\t\t\t\t\tPromise.resolve(payload.onmatch(params, path)).then(function(resolved) {\n\t\t\t\t\t\tupdate(payload, resolved)\n\t\t\t\t\t}, bail)\n\t\t\t\t}\n\t\t\t\telse update(payload, \"div\")\n\t\t\t}\n\t\t}, bail)\n\t}\n\troute.set = function(path, data0, options) {\n\t\tif (lastUpdate != null) {\n\t\t\toptions = options || {}\n\t\t\toptions.replace = true\n\t\t}\n\t\tlastUpdate = null\n\t\trouteService.setPath(path, data0, options)\n\t}\n\troute.get = function() {return currentPath}\n\troute.prefix = function(prefix) {routeService.prefix = prefix}\n\tvar link = function(options, vnode5) {\n\t\tvnode5.dom.setAttribute(\"href\", routeService.prefix + vnode5.attrs.href)\n\t\tvnode5.dom.onclick = function(e) {\n\t\t\tif (e.ctrlKey || e.metaKey || e.shiftKey || e.which === 2) return\n\t\t\te.preventDefault()\n\t\t\te.redraw = false\n\t\t\tvar href = this.getAttribute(\"href\")\n\t\t\tif (href.indexOf(routeService.prefix) === 0) href = href.slice(routeService.prefix.length)\n\t\t\troute.set(href, undefined, options)\n\t\t}\n\t}\n\troute.link = function(args0) {\n\t\tif (args0.tag == null) return link.bind(link, args0)\n\t\treturn link({}, args0)\n\t}\n\troute.param = function(key0) {\n\t\tif(typeof attrs3 !== \"undefined\" && typeof key0 !== \"undefined\") return attrs3[key0]\n\t\treturn attrs3\n\t}\n\treturn route\n}\nm.route = _24(window, redrawService)\nvar _31 = coreRenderer(window)\nm.render = _31.render\nm.redraw = redrawService.redraw\nm.request = requestService.request\nm.jsonp = requestService.jsonp\nm.parseQueryString = parseQueryString\nm.buildQueryString = buildQueryString\nm.version = \"2.0.0-rc.4\"\nm.vnode = Vnode\nm.PromisePolyfill = PromisePolyfill\n\nexport default m\nvar _m = m.m,_trust = m.trust,_fragment = m.fragment,_mount = m.mount,_route = m.route,_render = m.render,_redraw = m.redraw,_request = m.request,_jsonp = m.jsonp,_parseQueryString = m.parseQueryString,_buildQueryString = m.buildQueryString,_version = m.version,_vnode = m.vnode,_PromisePolyfill = m.PromisePolyfill\nexport {_m as m,_trust as trust,_fragment as fragment,_mount as mount,_route as route,_render as render,_redraw as redraw,_request as request,_jsonp as jsonp,_parseQueryString as parseQueryString,_buildQueryString as buildQueryString,_version as version,_vnode as vnode,_PromisePolyfill as PromisePolyfill}","\nexport default x => {\n  let p = x;\n  return args => {\n    if (args === undefined) {\n      return p;\n    } else {\n      p = args;\n    }\n  };\n};\n","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n","/* global Hammer */\nimport \"hammerjs\";\n\nexport const Touch = ({ el, orientation, onStart, onMove, onEnd }) => {\n  const hammer = new Hammer.Manager(el, {});\n  hammer.add(new Hammer.Pan({\n    direction: orientation === \"vertical\"\n      ? Hammer.DIRECTION_VERTICAL\n      : orientation === \"all\"\n        ? Hammer.DIRECTION_ALL\n        : Hammer.DIRECTION_HORIZONTAL,\n    threshold: 0\n  }));\n  hammer.on(\"panstart\", onStart);\n  hammer.on(\"panmove\", onMove);\n  hammer.on(\"panend\", onEnd);\n\n  return {\n    destroy: () => {\n      hammer.off(\"panstart\", onStart);\n      hammer.off(\"panmove\", onMove);\n      hammer.off(\"panend\", onEnd);\n    }\n  };\n};","\nexport const classes = {\n  slider:    \"mithril-slider\",\n  content:   \"mithril-slider__content\",\n  before:    \"mithril-slider__before\",\n  after:     \"mithril-slider__after\"\n};\n","import m from \"../node_modules/mithril/mithril\";\nimport prop from \"./prop\";\nimport { Touch } from \"./touch\";\nimport { classes } from \"./classes\";\n\nconst DEFAULT_DURATION = 160;\nconst DEFAULT_CANCEL_DRAG_FACTOR = 1 / 5;\nconst DEFAULT_GROUP_SIZE = 1;\nconst DEFAULT_ORIENTATION = \"vertical\";\nconst DEFAULT_DIRECTION = 1;\nconst DEFAULT_OFFSET_X = 0;\nconst DEFAULT_OFFSET_Y = 0;\n\nconst view = ({state, attrs}) => {\n  if (attrs.sliderController) {\n    attrs.sliderController(state);\n  }\n  const currentIndex = state.index();\n  // sizes need to be set each redraw because of screen resizes\n  state.groupBy(attrs.groupBy || 1);\n  const contentEl = state.contentEl;\n  if (contentEl) {\n    state.updateContentSize(contentEl);\n  }\n  return m(\"div\",\n    {\n      class: [\n        classes.slider,\n        attrs.class || \"\"\n      ].join(\" \")\n    },\n    [\n      attrs.before\n        ? m(\".\" + classes.before, attrs.before)\n        : null,\n      m(\"div\",\n        {\n          class: classes.content,\n          onupdate: ({dom}) => {\n            if (state.inited) {\n              return;\n            }\n            if (dom.childNodes.length > 0) {\n              state.setContentEl(dom);\n              state.updateContentSize(dom);\n              state.touch = new Touch({\n                el: dom,\n                orientation: attrs.orientation,\n                onStart: state.handleDragStart,\n                onMove: state.handleDrag,\n                onEnd: state.handleDragEnd\n              });\n              state.inited = true;\n            }\n          },\n          onremove: () => state.touch && state.touch.destroy()\n        },\n        state.list().map((data, listIndex) =>\n          attrs.page({\n            data,\n            listIndex,\n            currentIndex\n          })\n        )\n      ),\n      attrs.after\n        ? m(\".\" + classes.after, attrs.after)\n        : null\n    ]\n  );\n};\n\nconst oninit = vnode => {\n  const attrs = vnode.attrs;\n  const list = prop([]);\n  if (attrs.pageData) {\n    attrs.pageData().then(result => initWithResult(result));\n  }\n  const duration = parseInt(attrs.duration, 10) || DEFAULT_DURATION;\n  const index = prop(attrs.index || -1);\n  let contentEl;\n  let pageSize = 0;\n  const groupBy = prop(attrs.groupBy || DEFAULT_GROUP_SIZE);\n  const cancelDragFactor = attrs.cancelDragFactor || DEFAULT_CANCEL_DRAG_FACTOR;\n  const isVertical = attrs.orientation === DEFAULT_ORIENTATION;\n  const dir = attrs.rtl ? -1 : DEFAULT_DIRECTION;\n  const pageOffsetX = attrs.pageOffsetX || DEFAULT_OFFSET_X;\n  const pageOffsetY = attrs.pageOffsetY || DEFAULT_OFFSET_Y;\n\n  const initWithResult = result => {\n    list(result);\n    // First redraw so that pages are drawn\n    // continuation in view's oncreate\n    m.redraw();\n  };\n\n  const setIndex = idx => {\n    const oldIndex = index();\n    if (oldIndex !== idx) {\n      index(idx);\n      m.redraw();\n      if (attrs.getState) {\n        const el = contentEl;\n        const page = getPageEl(el, index());\n        attrs.getState({\n          index: idx,\n          hasNext: hasNext(),\n          hasPrevious: hasPrevious(),\n          pageEl: page\n        });\n      }\n    }\n  };\n\n  const getPageEl = (el, idx) => el.childNodes[idx];\n\n  const createAttrs = value => {\n    const x = isVertical ? \"0\" : value + \"px\";\n    const y = isVertical ? value + \"px\" : \"0\";\n    const z = \"0\";\n    const attrs = [x, y, z].join(\", \");\n    return \"translate3d(\" + attrs + \")\";\n  };\n\n  const setTransitionStyle = (el, value) => {\n    const style = el.style;\n    style.transform = style[\"-webkit-transform\"] = style[\"-moz-transform\"] = style[\"-ms-transform\"] = createAttrs(value);\n  };\n\n  const setTransitionDurationStyle = duration => {\n    contentEl.style[\"-webkit-transition-duration\"] = contentEl.style[\"transition-duration\"] = duration + \"ms\";\n  };\n\n  const goTo = (idx, duration) => {\n    if (idx < 0 || idx > list().length - 1) {\n      return;\n    }\n    updateContentSize(contentEl);\n    if (duration !== undefined) {\n      setTransitionDurationStyle(duration);\n    }\n    setTransitionStyle(contentEl, -dir * idx * pageSize);\n    setIndex(idx);\n  };\n\n  const normalizedStep = (orientation = 0) => {\n    const idx = index();\n    const size = groupBy();\n    const min = 0;\n    const max = list().length;\n    const next = idx + (orientation * size);\n    // make sure that last item aligns at the right\n    if ((next + size) > max) {\n      return max - size;\n    }\n    if (next < min) {\n      return min;\n    }\n    return next;\n  };\n\n  const updateContentSize = el => {\n    const prop = isVertical ? \"height\" : \"width\";\n    const page = el.childNodes[0];\n    if (page.getBoundingClientRect()[prop]) {\n      pageSize = page.getBoundingClientRect()[prop];\n      el.style[prop] = (list().length * pageSize) + \"px\";\n    }\n  };\n\n  const goCurrent = (duration = 0) => {\n    updateContentSize(contentEl);\n    setTransitionDurationStyle(duration);\n    goTo(normalizedStep());\n  };\n\n  const goNext = (dur = duration) => (\n    setTransitionDurationStyle(dur),\n    index() < list().length ? goTo(normalizedStep(1)) : goTo(normalizedStep())\n  );\n\n  const goPrevious = (dur = duration) => (\n    setTransitionDurationStyle(dur),\n    index() > 0 ? goTo(normalizedStep(-1)) : goTo(normalizedStep())\n  );\n\n  const hasNext = () => index() + groupBy() < list().length;\n\n  const hasPrevious = () => index() > 0;\n\n  const setContentEl = el => {\n    contentEl = el;\n    updateContentSize(el);\n    goCurrent();\n  };\n\n  const handleDragStart = () => (\n    updateContentSize(contentEl),\n    setTransitionDurationStyle(0)\n  );\n\n  const handleDrag = e => {\n    const el = contentEl;\n    const page = getPageEl(el, index());\n    const delta = isVertical\n      ? e.deltaY + pageOffsetY\n      : e.deltaX + pageOffsetX;\n    const origin = isVertical\n      ? page.offsetTop\n      : dir === -1\n        ? page.offsetLeft - page.parentNode.clientWidth + page.clientWidth\n        : page.offsetLeft;\n    setTransitionStyle(el, delta - origin);\n    e.preventDefault();\n  };\n\n  const calculateTransitionDuration = velocity => {\n    const el = contentEl;\n    const page = getPageEl(el, index());\n    const width = page.clientWidth;\n    const speed = Math.abs(velocity) || 1;\n    let dur = 1 / speed * width;\n    if (dur > duration) {\n      dur = duration;\n    }\n    return dur;\n  };\n\n  const handleDragEnd = e => {\n    const dur = calculateTransitionDuration(e.velocity);\n    const delta = isVertical ? e.deltaY : e.deltaX;\n    if (Math.abs(delta) > pageSize * groupBy() * cancelDragFactor) {\n      if (dir * delta < 0) {\n        goNext(dur);\n      } else {\n        goPrevious(dur);\n      }\n    } else {\n      goCurrent(dur);\n    }\n  };\n\n  Object.assign(vnode.state, {\n    // component methods\n    list,\n    contentEl,\n    setContentEl,\n    handleDrag,\n    handleDragStart,\n    handleDragEnd,\n    groupBy,\n    updateContentSize,\n\n    // public interface\n    index,\n    hasNext,\n    hasPrevious,\n    goTo,\n    goCurrent,\n    goNext,\n    goPrevious\n  });\n};\n\nexport const slider = {\n  oninit,\n  view\n};\n"],"names":["Vnode","tag","key","attrs0","children0","text","dom","attrs","children","domSize","undefined","state","events","instance","normalize","node","Array","isArray","normalizeChildren","_typeof","input","i","length","hyperscriptVnode","children1","attrs1","arguments","this","start","push","selectorParser","selectorCache","hasOwn","hasOwnProperty","isEmpty","object","call","hyperscript","selector","view","Error","vnode","apply","hasClass","className","newAttrs","String","execSelector","match","classes","exec","type","value","id","attrValue","replace","join","compileSelector","trust","html","fragment","vnode2","m","PromisePolyfill","executor","TypeError","self","resolvers","rejectors","resolveCurrent","handler","rejectCurrent","_instance","callAsync","setImmediate","setTimeout","list","shouldAbsorb","execute","then","console","error","retry","executeOnce","bind","e","runs","run","fn","onerror","prototype","onFulfilled","onRejection","resolveNext","rejectNext","handle","callback","next","promise","resolve","reject","reason","all","total","count","values","consume","race","window","Promise","global","buildQueryString","Object","toString","args","destructure","encodeURIComponent","requestService","$window","oncompletion","callbackCount","makeRequest","factory","url","promise0","data","background","complete","wrap","then0","hasHeader","name","headers","test","interpolate","assemble","m0","querystring","indexOf","request","method","toUpperCase","useBody","assumeJSON","serialize","JSON","FormData","stringify","xhr","XMLHttpRequest","aborted","_abort","abort","open","async","user","password","setRequestHeader","deserialize","withCredentials","timeout","responseType","config","onreadystatechange","readyState","success","status","response","responseText","extract","parse","code","send","jsonp","callbackName","Math","round","random","script","document","createElement","parentNode","removeChild","src","callbackKey","documentElement","appendChild","setCompletionCallback","_12","coreRenderer","redraw0","$doc","nameSpace","svg","math","getNameSpace","vnode3","xmlns","checkState","original","callHook","activeElement","createNodes","parent","vnodes","end","hooks","nextSibling","ns","createNode","initLifecycle","createTextNode","insertNode","createText","createHTML","createDocumentFragment","children3","firstChild","childNodes","createFragment","attrs2","is","element","createElementNS","setAttr","setAttrs","contenteditable","setContentEditable","textContent","selectedIndex","normalized","setLateSelectAttrs","sentinel","create","$$reentrantLock$$","initComponent","createComponent","possibleParents","caption","thead","tbody","tfoot","tr","th","td","colgroup","col","match0","temp","innerHTML","child","updateNodes","old","removeNodes","oldStart","isOldKeyed","isKeyed","o","v","oe","ve","topSibling","oldEnd","updateNode","getNextSibling","toFragment","map","lisIndices","originalNextSibling","vnodesLength","oldIndices","li","pos","matched","getKeyMap","oldIndex","a","u","p","slice","result","il","j","c","makeLisIndices","commonLength","removeNode","oldTag","onbeforeupdate","force","shouldNotUpdate","updateLifecycle","nodeValue","updateText","updateHTML","updateFragment","val","removeAttr","updateAttrs","updateElement","updateComponent","count0","insertBefore","content","expected","called","onbeforeremove","continuation","onremove","isLifecycleMethod","attr","isFormAttribute","updateEvent","setAttributeNS","updateStyle","hasPropertyKey","setAttribute","removeAttribute","nsLastIndex","uppercaseRegex","toLowerCase","capital","normalizeKey","style","cssText","setProperty","removeProperty","EventDict","removeEventListener","addEventListener","source","oninit","oncreate","onupdate","handleEvent","ev","handler0","currentTarget","redraw","preventDefault","stopPropagation","render","active","namespace","namespaceURI","focus","setRedraw","redrawService","throttleMock","renderService","callbacks","rendering","unsubscribe","index","splice","sync","pending","requestAnimationFrame","subscribe","_15","redrawService0","mount","root","component","run0","parseQueryString","string","charAt","entries","split","data2","counters","entry","key2","decodeURIComponent","value0","levels","cursor","pop","j0","level","nextLevel","isNumber","isNaN","parseInt","isValue","coreRouter","asyncId","supportsPushState","history","pushState","callAsync0","fragment0","data1","location","parsePath","path","queryData","hashData","queryIndex","hashIndex","pathEnd","queryEnd","queryParams","key1","hashParams","router","prefix","options","match1","token","query","hash","title","onpopstate","replaceState","href","defineRoutes","routes","resolveRoute","getPath","params","pathname","k","route0","matcher","RegExp","keys","onhashchange","route","render1","attrs3","currentPath","lastUpdate","routeService","defaultRoute","run1","redraw3","bail","setPath","payload","update","routeResolver","comp","v0","onmatch","resolved","set","data0","get","link","vnode5","onclick","ctrlKey","metaKey","shiftKey","which","getAttribute","args0","param","key0","_24","_31","version","x","exportName","assign","VENDOR_PREFIXES","TEST_ELEMENT","TYPE_FUNCTION","abs","now","Date","setTimeoutContext","context","bindFn","invokeArrayArg","arg","each","obj","iterator","forEach","deprecate","message","deprecationMessage","stack","log","warn","target","output","nextKey","extend","dest","merge","inherit","base","properties","childP","baseP","constructor","_super","boolOrFn","ifUndefined","val1","val2","addEventListeners","types","splitStr","removeEventListeners","hasParent","inStr","str","find","trim","inArray","findByKey","toArray","uniqueArray","sort","results","b","prefixed","property","prop","camelProp","_uniqueId","getWindowForElement","doc","ownerDocument","defaultView","parentWindow","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","navigator","userAgent","COMPUTE_INTERVAL","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","DIRECTION_NONE","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_UP","DIRECTION_DOWN","DIRECTION_HORIZONTAL","DIRECTION_VERTICAL","DIRECTION_ALL","PROPS_XY","PROPS_CLIENT_XY","Input","manager","inputTarget","domHandler","enable","init","inputHandler","eventType","pointersLen","pointers","changedPointersLen","changedPointers","isFirst","isFinal","session","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","center","getCenter","timeStamp","deltaTime","angle","getAngle","distance","getDistance","offset","offsetDelta","prevDelta","prevInput","deltaX","y","deltaY","computeDeltaXY","offsetDirection","getDirection","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","scale","rotation","getRotation","maxPointers","velocity","velocityX","velocityY","direction","last","lastInterval","computeIntervalInputData","srcEvent","computeInputData","emit","recognize","clientX","clientY","p1","p2","props","sqrt","atan2","PI","evEl","evTarget","evWin","destroy","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","MOUSE_ELEMENT_EVENTS","MOUSE_WINDOW_EVENTS","MouseInput","pressed","button","pointerType","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","PointerEventInput","store","pointerEvents","MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","isTouch","storeIndex","pointerId","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","SINGLE_TOUCH_TARGET_EVENTS","SINGLE_TOUCH_WINDOW_EVENTS","SingleTouchInput","started","touches","changed","changedTouches","concat","TOUCH_INPUT_MAP","TOUCH_TARGET_EVENTS","TouchInput","targetIds","allTouches","identifier","targetTouches","changedTargetTouches","filter","touch","DEDUP_TIMEOUT","DEDUP_DISTANCE","TouchMouseInput","mouse","primaryTouch","lastTouches","setLastTouch","eventData","lastTouch","lts","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","t","dx","dy","PREFIXED_TOUCH_ACTION","NATIVE_TOUCH_ACTION","TOUCH_ACTION_AUTO","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_NONE","TOUCH_ACTION_PAN_X","TOUCH_ACTION_PAN_Y","TOUCH_ACTION_MAP","touchMap","cssSupports","CSS","supports","getTouchActionProps","TouchAction","compute","actions","touchAction","recognizers","recognizer","getTouchAction","hasPanX","hasPanY","cleanTouchActions","preventDefaults","prevented","hasNone","isTapPointer","isTapMovement","isTapTouchTime","preventSrc","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","Recognizer","defaults","simultaneous","requireFail","stateStr","directionStr","getRecognizerByNameIfManager","otherRecognizer","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","Hammer","preset","Manager","recognizeWith","dropRecognizeWith","requireFailure","dropRequireFailure","hasRequireFailures","canRecognizeWith","event","additionalEvent","tryEmit","canEmit","inputDataClone","reset","process","attrTest","optionPointers","isRecognized","isValid","threshold","directionTest","hasMoved","inOut","time","validPointers","validMovement","validTime","clearTimeout","taps","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","VERSION","domEvents","inputClass","cssProps","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","handlers","oldCssProps","toggleCssProps","item","add","stop","stopped","curRecognizer","existing","remove","on","off","gestureEvent","createEvent","initEvent","gesture","dispatchEvent","triggerDomEvent","STATE_FAILED","Tap","Pan","Swipe","Pinch","Rotate","Press","define","amd","module","exports","Touch","el","orientation","onStart","onMove","onEnd","hammer","slider","before","after","pageData","initWithResult","contentEl","duration","pageSize","groupBy","cancelDragFactor","isVertical","dir","rtl","pageOffsetX","pageOffsetY","getPageEl","idx","setTransitionStyle","transform","createAttrs","setTransitionDurationStyle","goTo","updateContentSize","getState","page","hasNext","hasPrevious","pageEl","setIndex","normalizedStep","size","max","getBoundingClientRect","goCurrent","goNext","dur","goPrevious","setContentEl","handleDrag","delta","origin","offsetTop","offsetLeft","clientWidth","handleDragStart","handleDragEnd","width","calculateTransitionDuration","sliderController","currentIndex","inited","listIndex"],"mappings":"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"}