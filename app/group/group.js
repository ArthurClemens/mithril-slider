"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _mithril=require("mithril");var _mithril2=_interopRequireDefault(_mithril);var _mithrilSlider=require("mithril-slider");var _mithrilSlider2=_interopRequireDefault(_mithrilSlider);var _appAppCommon=require("app/app/common");var _appAppCommon2=_interopRequireDefault(_appAppCommon);var _appPreloaderPreloader=require("app/preloader/preloader");var _appPreloaderPreloader2=_interopRequireDefault(_appPreloaderPreloader);var _appAppGithub=require("app/app/github");var _appAppGithub2=_interopRequireDefault(_appAppGithub);require("app/app/common.css!");require("./group.css!");var callRight=function callRight(fn){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key]}return function(){for(var _len2=arguments.length,remainingArgs=Array(_len2),_key2=0;_key2<_len2;_key2++){remainingArgs[_key2]=arguments[_key2]}return fn.apply(undefined,remainingArgs.concat(args))}};var createPage=function createPage(opts,ctrl){var groupBy=ctrl.groupBy();var currentIndex=opts.currentIndex;var listIndex=opts.listIndex;var data=opts.data;var inRange=Math.abs(currentIndex-listIndex)<2*groupBy;var content=inRange?[(0,_mithril2["default"])(".image-container",[(0,_mithril2["default"])(".image",{config:function config(el,inited){if(inited){return}_appAppCommon2["default"].fadeInImage(el,data)}}),(0,_mithril2["default"])("span",listIndex),_appPreloaderPreloader2["default"]])]:null;return(0,_mithril2["default"])(".page",content)};var example={};example.controller=function(){return{sliderController:_mithril2["default"].prop(),isEditing:_mithril2["default"].prop(false),groupBy:_mithril2["default"].prop(3)}};example.view=function(ctrl){var sliderController=ctrl.sliderController();var groupBy=ctrl.groupBy();var mySlider=_mithril2["default"].component(_mithrilSlider2["default"],{pageData:_appAppCommon2["default"].getPageData,page:callRight(createPage,ctrl),groupBy:groupBy,sliderController:ctrl.sliderController,"class":["example","group","group-"+groupBy].join(" ")});function _ref(){sliderController.goCurrent()}var sliderControls=(0,_mithril2["default"])(".slider-controls.slider-controls-group",sliderController?[(0,_mithril2["default"])("a.prev",{"class":sliderController.hasPrevious()?"enabled":"",onclick:function onclick(){return sliderController.goPrevious()}},"Previous"),(0,_mithril2["default"])(".count",[[1,2,3,4,5].map(function(size){return(0,_mithril2["default"])("a",{onclick:function onclick(){ctrl.groupBy(size);setTimeout(_ref,0)},"class":size===groupBy?"selected":""},size)})]),(0,_mithril2["default"])("a.next",{"class":sliderController.hasNext()?"enabled":"",onclick:function onclick(){return sliderController.goNext()}},"Next")]:null);return[sliderControls,mySlider,_appAppGithub2["default"]]};exports["default"]=example;module.exports=exports["default"];